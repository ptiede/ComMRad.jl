<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Base API · Comrade.jl</title><meta name="title" content="Base API · Comrade.jl"/><meta property="og:title" content="Base API · Comrade.jl"/><meta property="twitter:title" content="Base API · Comrade.jl"/><meta name="description" content="Documentation for Comrade.jl."/><meta property="og:description" content="Documentation for Comrade.jl."/><meta property="twitter:description" content="Documentation for Comrade.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Comrade.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li><a class="tocitem" href="../vlbi_imaging_problem/">Introduction to the VLBI Imaging Problem</a></li><li><a class="tocitem" href="../conventions/">Conventions</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/ClosureImaging/">Imaging a Black Hole using only Closure Quantities</a></li><li><a class="tocitem" href="../tutorials/GeometricModeling/">Geometric Modeling of EHT Data</a></li><li><a class="tocitem" href="../tutorials/HybridImaging/">Hybrid Imaging of a Black Hole</a></li><li><a class="tocitem" href="../tutorials/LoadingData/">Loading Data into Comrade</a></li><li><a class="tocitem" href="../tutorials/PolarizedImaging/">Polarized Image and Instrumental Modeling</a></li><li><a class="tocitem" href="../tutorials/StokesIImaging/">Stokes I Simultaneous Image and Instrument Modeling</a></li></ul></li><li><span class="tocitem">Extensions</span><ul><li><a class="tocitem" href="../ext/optimization/">Optimization Extension</a></li><li><a class="tocitem" href="../ext/ahmc/">AdvancedHMC Extension</a></li><li><a class="tocitem" href="../ext/nested/">NestedSamples Extension</a></li><li><a class="tocitem" href="../ext/dynesty/">Dynesty Extension</a></li></ul></li><li class="is-active"><a class="tocitem" href>Base API</a><ul class="internal"><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Model-API"><span>Model API</span></a></li><li><a class="tocitem" href="#Internal-Methods-not-part-of-public-API"><span>Internal Methods not part of public API</span></a></li></ul></li><li><a class="tocitem" href="../api/">Comrade API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Base API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Base API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ptiede/Comrade.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ptiede/Comrade.jl/blob/main/docs/src/base_api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Base-API"><a class="docs-heading-anchor" href="#Base-API">Base API</a><a id="Base-API-1"></a><a class="docs-heading-anchor-permalink" href="#Base-API" title="Permalink"></a></h1><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="#Base-API">Base API</a></li><li class="no-marker"><ul><li><a href="#Contents">Contents</a></li><li><a href="#Index">Index</a></li><li><a href="#Model-API">Model API</a></li><li><a href="#Internal-Methods-not-part-of-public-API">Internal Methods not part of public API</a></li></ul></li></ul><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#ComradeBase.AbstractModel"><code>ComradeBase.AbstractModel</code></a></li><li><a href="#ComradeBase.AbstractPolarizedModel"><code>ComradeBase.AbstractPolarizedModel</code></a></li><li><a href="#ComradeBase.DensityAnalytic"><code>ComradeBase.DensityAnalytic</code></a></li><li><a href="#ComradeBase.IntensityMap-Tuple{AbstractArray, ComradeBase.AbstractRectiGrid}"><code>ComradeBase.IntensityMap</code></a></li><li><a href="#ComradeBase.IntensityMap"><code>ComradeBase.IntensityMap</code></a></li><li><a href="#ComradeBase.IsAnalytic"><code>ComradeBase.IsAnalytic</code></a></li><li><a href="#ComradeBase.MinimalHeader"><code>ComradeBase.MinimalHeader</code></a></li><li><a href="#ComradeBase.NoHeader"><code>ComradeBase.NoHeader</code></a></li><li><a href="#ComradeBase.NotAnalytic"><code>ComradeBase.NotAnalytic</code></a></li><li><a href="#ComradeBase.RectiGrid"><code>ComradeBase.RectiGrid</code></a></li><li><a href="#ComradeBase.Serial"><code>ComradeBase.Serial</code></a></li><li><a href="#ComradeBase.ThreadsEx"><code>ComradeBase.ThreadsEx</code></a></li><li><a href="#ComradeBase.UnstructuredDomain"><code>ComradeBase.UnstructuredDomain</code></a></li><li><a href="#ComradeBase.UnstructuredMap"><code>ComradeBase.UnstructuredMap</code></a></li><li><a href="#ComradeBase._visibilitymap"><code>ComradeBase._visibilitymap</code></a></li><li><a href="#ComradeBase._visibilitymap!"><code>ComradeBase._visibilitymap!</code></a></li><li><a href="#ComradeBase.allocate_imgmap"><code>ComradeBase.allocate_imgmap</code></a></li><li><a href="#ComradeBase.allocate_vismap"><code>ComradeBase.allocate_vismap</code></a></li><li><a href="#ComradeBase.amplitude-Tuple{Any, Any}"><code>ComradeBase.amplitude</code></a></li><li><a href="#ComradeBase.amplitudemap"><code>ComradeBase.amplitudemap</code></a></li><li><a href="#ComradeBase.axisdims"><code>ComradeBase.axisdims</code></a></li><li><a href="#ComradeBase.baseimage"><code>ComradeBase.baseimage</code></a></li><li><a href="#ComradeBase.bispectrum"><code>ComradeBase.bispectrum</code></a></li><li><a href="#ComradeBase.bispectrummap"><code>ComradeBase.bispectrummap</code></a></li><li><a href="#ComradeBase.centroid"><code>ComradeBase.centroid</code></a></li><li><a href="#ComradeBase.closure_phase"><code>ComradeBase.closure_phase</code></a></li><li><a href="#ComradeBase.closure_phasemap"><code>ComradeBase.closure_phasemap</code></a></li><li><a href="#ComradeBase.create_imgmap"><code>ComradeBase.create_imgmap</code></a></li><li><a href="#ComradeBase.create_map"><code>ComradeBase.create_map</code></a></li><li><a href="#ComradeBase.create_vismap"><code>ComradeBase.create_vismap</code></a></li><li><a href="#ComradeBase.domainpoints"><code>ComradeBase.domainpoints</code></a></li><li><a href="#ComradeBase.executor"><code>ComradeBase.executor</code></a></li><li><a href="#ComradeBase.fieldofview"><code>ComradeBase.fieldofview</code></a></li><li><a href="#ComradeBase.flux"><code>ComradeBase.flux</code></a></li><li><a href="#ComradeBase.header"><code>ComradeBase.header</code></a></li><li><a href="#ComradeBase.imagepixels"><code>ComradeBase.imagepixels</code></a></li><li><a href="#ComradeBase.imanalytic"><code>ComradeBase.imanalytic</code></a></li><li><a href="#ComradeBase.intensity_point"><code>ComradeBase.intensity_point</code></a></li><li><a href="#ComradeBase.intensitymap"><code>ComradeBase.intensitymap</code></a></li><li><a href="#ComradeBase.intensitymap!"><code>ComradeBase.intensitymap!</code></a></li><li><a href="#ComradeBase.intensitymap_analytic"><code>ComradeBase.intensitymap_analytic</code></a></li><li><a href="#ComradeBase.intensitymap_analytic!"><code>ComradeBase.intensitymap_analytic!</code></a></li><li><a href="#ComradeBase.intensitymap_numeric"><code>ComradeBase.intensitymap_numeric</code></a></li><li><a href="#ComradeBase.intensitymap_numeric!"><code>ComradeBase.intensitymap_numeric!</code></a></li><li><a href="#ComradeBase.ispolarized"><code>ComradeBase.ispolarized</code></a></li><li><a href="#ComradeBase.load"><code>ComradeBase.load</code></a></li><li><a href="#ComradeBase.logclosure_amplitude"><code>ComradeBase.logclosure_amplitude</code></a></li><li><a href="#ComradeBase.logclosure_amplitudemap"><code>ComradeBase.logclosure_amplitudemap</code></a></li><li><a href="#ComradeBase.named_dims"><code>ComradeBase.named_dims</code></a></li><li><a href="#ComradeBase.phasecenter"><code>ComradeBase.phasecenter</code></a></li><li><a href="#ComradeBase.pixelsizes"><code>ComradeBase.pixelsizes</code></a></li><li><a href="#ComradeBase.radialextent"><code>ComradeBase.radialextent</code></a></li><li><a href="#ComradeBase.save"><code>ComradeBase.save</code></a></li><li><a href="#ComradeBase.second_moment"><code>ComradeBase.second_moment</code></a></li><li><a href="#ComradeBase.stokes"><code>ComradeBase.stokes</code></a></li><li><a href="#ComradeBase.visanalytic"><code>ComradeBase.visanalytic</code></a></li><li><a href="#ComradeBase.visibility"><code>ComradeBase.visibility</code></a></li><li><a href="#ComradeBase.visibility_point"><code>ComradeBase.visibility_point</code></a></li><li><a href="#ComradeBase.visibilitymap"><code>ComradeBase.visibilitymap</code></a></li><li><a href="#ComradeBase.visibilitymap!"><code>ComradeBase.visibilitymap!</code></a></li><li><a href="#ComradeBase.visibilitymap_analytic"><code>ComradeBase.visibilitymap_analytic</code></a></li><li><a href="#ComradeBase.visibilitymap_analytic!"><code>ComradeBase.visibilitymap_analytic!</code></a></li><li><a href="#ComradeBase.visibilitymap_numeric"><code>ComradeBase.visibilitymap_numeric</code></a></li><li><a href="#ComradeBase.visibilitymap_numeric!"><code>ComradeBase.visibilitymap_numeric!</code></a></li><li><a href="#DimensionalData.Dimensions.dims"><code>DimensionalData.Dimensions.dims</code></a></li></ul><h2 id="Model-API"><a class="docs-heading-anchor" href="#Model-API">Model API</a><a id="Model-API-1"></a><a class="docs-heading-anchor-permalink" href="#Model-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.flux" href="#ComradeBase.flux"><code>ComradeBase.flux</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">flux(im::IntensityMap)</code></pre><p>Computes the flux of a intensity map</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibility" href="#ComradeBase.visibility"><code>ComradeBase.visibility</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibility(mimg, p)</code></pre><p>Computes the complex visibility of model <code>m</code> at coordinates <code>p</code>. <code>p</code> corresponds to the coordinates of the model. These need to have the properties <code>U</code>, <code>V</code> and sometimes <code>Ti</code> for time and <code>Fr</code> for frequency.</p><p><strong>Notes</strong></p><p>If you want to compute the visibilities at a large number of positions consider using the <a href="#ComradeBase.visibilitymap"><code>visibilitymap</code></a>.</p><p><strong>Warn</strong></p><p>This is only defined for analytic models. If you want to compute the visibility for a single point for a non-analytic model, please use the <code>visibilitymap</code> function and create an <code>UnstructuredDomain</code> with a single point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L82-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibilitymap" href="#ComradeBase.visibilitymap"><code>ComradeBase.visibilitymap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibilitymap(model::AbstractModel, p)</code></pre><p>Computes the complex visibilities at the locations p.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L225-L229">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibilitymap!" href="#ComradeBase.visibilitymap!"><code>ComradeBase.visibilitymap!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibilitymap!(vis::AbstractArray, model::AbstractModel, p)</code></pre><p>Computes the complex visibilities <code>vis</code> in place at the locations p</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L233-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensitymap" href="#ComradeBase.intensitymap"><code>ComradeBase.intensitymap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensitymap(model::AbstractModel, p::AbstractSingleDomain)</code></pre><p>Computes the intensity map of model. For the inplace version see <a href="#ComradeBase.intensitymap!"><code>intensitymap!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L171-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensitymap!" href="#ComradeBase.intensitymap!"><code>ComradeBase.intensitymap!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensitymap!(buffer::AbstractDimArray, model::AbstractModel)</code></pre><p>Computes the intensity map of <code>model</code> by modifying the <code>buffer</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L163-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.allocate_vismap" href="#ComradeBase.allocate_vismap"><code>ComradeBase.allocate_vismap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">allocate_vismap(m::AbstractModel, g::AbstractSingleDomain)</code></pre><p>Allocate the default map specialized by the grid <code>g</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.allocate_imgmap" href="#ComradeBase.allocate_imgmap"><code>ComradeBase.allocate_imgmap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">allocate_imgmap(m::AbstractModel, g::AbstractSingleDomain)</code></pre><p>Allocate the default map specialized by the grid <code>g</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L33-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.create_imgmap" href="#ComradeBase.create_imgmap"><code>ComradeBase.create_imgmap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_imgmap(array, g::AbstractSingleDomain)</code></pre><p>Create a map of values specialized by the grid <code>g</code> in the image domain. The default is to call <code>create_map</code> with the same arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L25-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.create_vismap" href="#ComradeBase.create_vismap"><code>ComradeBase.create_vismap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_vismap(array, g::AbstractSingleDomain)</code></pre><p>Create a map of values specialized by the grid <code>g</code> in the visibility domain. The default is to call <code>create_map</code> with the same arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L17-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.amplitude-Tuple{Any, Any}" href="#ComradeBase.amplitude-Tuple{Any, Any}"><code>ComradeBase.amplitude</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">amplitude(model, p)</code></pre><p>Computes the visibility amplitude of model <code>m</code> at the coordinate <code>p</code>. The coordinate <code>p</code> is expected to have the properties <code>U</code>, <code>V</code>, and sometimes <code>Ti</code> and <code>Fr</code>.</p><p>If you want to compute the amplitudemap at a large number of positions consider using the <code>amplitudemap</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L110-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.amplitudemap" href="#ComradeBase.amplitudemap"><code>ComradeBase.amplitudemap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">amplitudemap(m::AbstractModel, p)</code></pre><p>Computes the visibility amplitudemap of the model <code>m</code> at the coordinates <code>p</code>. The coordinates <code>p</code> are expected to have the properties <code>U</code>, <code>V</code>, and sometimes <code>Ti</code> and <code>Fr</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L176-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.bispectrum" href="#ComradeBase.bispectrum"><code>ComradeBase.bispectrum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bispectrum(model, p1, p2, p3)</code></pre><p>Computes the complex bispectrum of model <code>m</code> at the uv-triangle p1 -&gt; p2 -&gt; p3</p><p>If you want to compute the bispectrum over a number of triangles consider using the <code>bispectrummap</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L124-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.bispectrummap" href="#ComradeBase.bispectrummap"><code>ComradeBase.bispectrummap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bispectrummap(m, p1, p2, p3)</code></pre><p>Computes the closure phases of the model <code>m</code> at the triangles p1, p2, p3, where <code>pi</code> are coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L202-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.closure_phase" href="#ComradeBase.closure_phase"><code>ComradeBase.closure_phase</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">closure_phase(model, p1, p2, p3, p4)</code></pre><p>Computes the closure phase of model <code>m</code> at the uv-triangle u1,v1 -&gt; u2,v2 -&gt; u3,v3</p><p>If you want to compute closure phases over a number of triangles consider using the <code>closure_phasemap</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L137-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.closure_phasemap" href="#ComradeBase.closure_phasemap"><code>ComradeBase.closure_phasemap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">closure_phasemap(m,
               p1::AbstractArray
               p2::AbstractArray
               p3::AbstractArray
               )</code></pre><p>Computes the closure phases of the model <code>m</code> at the triangles p1, p2, p3, where <code>pi</code> are coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L248-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.logclosure_amplitude" href="#ComradeBase.logclosure_amplitude"><code>ComradeBase.logclosure_amplitude</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">logclosure_amplitude(model, p1, p2, p3, p4)</code></pre><p>Computes the log-closure amplitude of model <code>m</code> at the uv-quadrangle u1,v1 -&gt; u2,v2 -&gt; u3,v3 -&gt; u4,v4 using the formula</p><p class="math-container">\[C = \log\left|\frac{V(u1,v1)V(u2,v2)}{V(u3,v3)V(u4,v4)}\right|\]</p><p>If you want to compute log closure amplitudemap over a number of triangles consider using the <code>logclosure_amplitudemap</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L150-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.logclosure_amplitudemap" href="#ComradeBase.logclosure_amplitudemap"><code>ComradeBase.logclosure_amplitudemap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">logclosure_amplitudemap(m::AbstractModel,
                      p1,
                      p2,
                      p3,
                      p4
                     )</code></pre><p>Computes the log closure amplitudemap of the model <code>m</code> at the quadrangles p1, p2, p3, p4.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/visibilities.jl#L286-L296">source</a></section></article><h3 id="Model-Interface"><a class="docs-heading-anchor" href="#Model-Interface">Model Interface</a><a id="Model-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Interface" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.AbstractModel" href="#ComradeBase.AbstractModel"><code>ComradeBase.AbstractModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractModel</code></pre><p>The Comrade abstract model type. To instantiate your own model type you should subtybe from this model. Additionally you need to implement the following methods to satify the interface:</p><p><strong>Mandatory Methods</strong></p><ul><li><a href="#ComradeBase.visanalytic"><code>visanalytic</code></a>: defines whether the model visibilities can be computed analytically. If yes  then this should return <code>IsAnalytic()</code> and the user <em>must</em> to define <code>visibility_point</code>.  If not analytic then <code>visanalytic</code> should return <code>NotAnalytic()</code>.</li><li><a href="#ComradeBase.imanalytic"><code>imanalytic</code></a>: defines whether the model intensities can be computed pointwise. If yes   then this should return <code>IsAnalytic()</code> and the user <em>must</em> to define <code>intensity_point</code>.   If not analytic then <code>imanalytic</code> should return <code>NotAnalytic()</code>.</li><li><a href="#ComradeBase.radialextent"><code>radialextent</code></a>: Provides a estimate of the radial extent of the model in the image domain.  This is used for estimating the size of the image, and for plotting.</li><li><a href="#ComradeBase.flux"><code>flux</code></a>: Returns the total flux of the model.</li><li><a href="#ComradeBase.intensity_point"><code>intensity_point</code></a>: Defines how to compute model intensities pointwise. Note this is must be defined if <code>imanalytic(::Type{YourModel})==IsAnalytic()</code>.</li><li><a href="#ComradeBase.visibility_point"><code>visibility_point</code></a>: Defines how to compute model visibilties pointwise. Note this is   must be defined if <code>visanalytic(::Type{YourModel})==IsAnalytic()</code>.</li></ul><p><strong>Optional Methods:</strong></p><ul><li><a href="#ComradeBase.ispolarized"><code>ispolarized</code></a>: Specified whether a model is intrinsically polarized (returns <code>IsPolarized()</code>) or is not (returns <code>NotPolarized()</code>), by default a model is <code>NotPolarized()</code></li><li><a href="#ComradeBase.visibilitymap_analytic"><code>visibilitymap_analytic</code></a>: Vectorized version of <code>visibility_point</code> for models where <code>visanalytic</code> returns <code>IsAnalytic()</code></li><li><a href="#ComradeBase.visibilitymap_numeric"><code>visibilitymap_numeric</code></a>: Vectorized version of <code>visibility_point</code> for models where <code>visanalytic</code> returns <code>NotAnalytic()</code> typically these are numerical FT&#39;s</li><li><a href="#ComradeBase.intensitymap_analytic"><code>intensitymap_analytic</code></a>: Computes the entire image for models where <code>imanalytic</code> returns <code>IsAnalytic()</code></li><li><a href="#ComradeBase.intensitymap_numeric"><code>intensitymap_numeric</code></a>: Computes the entire image for models where <code>imanalytic</code> returns <code>NotAnalytic()</code></li><li><a href="#ComradeBase.intensitymap_analytic!"><code>intensitymap_analytic!</code></a>: Inplace version of <code>intensitymap</code></li><li><a href="#ComradeBase.intensitymap_numeric!"><code>intensitymap_numeric!</code></a>: Inplace version of <code>intensitymap</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L2-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.AbstractPolarizedModel" href="#ComradeBase.AbstractPolarizedModel"><code>ComradeBase.AbstractPolarizedModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractPolarizedModel &lt;: ComradeBase.AbstractModel</code></pre><p>A generic polarized model. To implement the use needs to follow the <a href="#ComradeBase.AbstractModel"><code>AbstractModel</code></a> implementation instructions. In addtion there is an optional method <code>stokes(model, p::Symbol)</code> which extracts the specific stokes parameter of the model. The default that the different stokes parameters are stored as fields of the model. To overwrite this behavior overload the function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L55-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visanalytic" href="#ComradeBase.visanalytic"><code>ComradeBase.visanalytic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visanalytic(::Type{&lt;:AbstractModel})</code></pre><p>Determines whether the model is pointwise analytic in Fourier domain, i.e. we can evaluate its fourier transform at an arbritrary point.</p><p>If <code>IsAnalytic()</code> then it will try to call <code>visibility_point</code> to calculate the complex visibilities. Otherwise it fallback to using the FFT that works for all models that can compute an image.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L104-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.imanalytic" href="#ComradeBase.imanalytic"><code>ComradeBase.imanalytic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">imanalytic(::Type{&lt;:AbstractModel})</code></pre><p>Determines whether the model is pointwise analytic in the image domain, i.e. we can evaluate its intensity at an arbritrary point.</p><p>If <code>IsAnalytic()</code> then it will try to call <code>intensity_point</code> to calculate the intensity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L116-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.ispolarized" href="#ComradeBase.ispolarized"><code>ComradeBase.ispolarized</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ispolarized(::Type)</code></pre><p>Trait function that defines whether a model is polarized or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.radialextent" href="#ComradeBase.radialextent"><code>ComradeBase.radialextent</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">radialextent(model::AbstractModel)</code></pre><p>Provides an estimate of the radial size/extent of the <code>model</code>. This is used internally to estimate image size when plotting and using <code>modelimage</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L217-L222">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.DensityAnalytic" href="#ComradeBase.DensityAnalytic"><code>ComradeBase.DensityAnalytic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DensityAnalytic</code></pre><p>Internal type for specifying the nature of the model functions. Whether they can be easily evaluated pointwise analytic. This is an internal type that may change.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L75-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.IsAnalytic" href="#ComradeBase.IsAnalytic"><code>ComradeBase.IsAnalytic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IsAnalytic &lt;: ComradeBase.DensityAnalytic</code></pre><p>Defines a trait that a states that a model is analytic. This is usually used with an abstract model where we use it to specify whether a model has a analytic fourier transform and/or image.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L84-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.NotAnalytic" href="#ComradeBase.NotAnalytic"><code>ComradeBase.NotAnalytic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct NotAnalytic &lt;: ComradeBase.DensityAnalytic</code></pre><p>Defines a trait that a states that a model is analytic. This is usually used with an abstract model where we use it to specify whether a model has does not have a easy analytic fourier transform and/or intensity function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L94-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibility_point" href="#ComradeBase.visibility_point"><code>ComradeBase.visibility_point</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibility_point(model::AbstractModel, p)</code></pre><p>Function that computes the pointwise visibility. This must be implemented in the model interface if <code>visanalytic(::Type{MyModel}) == IsAnalytic()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L144-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibilitymap_analytic" href="#ComradeBase.visibilitymap_analytic"><code>ComradeBase.visibilitymap_analytic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibilties_analytic(model, p)</code></pre><p>Computes the visibilties of a <code>model</code> using using the analytic visibility expression given by <code>visibility_point</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L269-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibilitymap_analytic!" href="#ComradeBase.visibilitymap_analytic!"><code>ComradeBase.visibilitymap_analytic!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibilties_analytic!(vis, model)</code></pre><p>Computes the visibilties of a <code>model</code> in-place, using using the analytic visibility expression given by <code>visibility_point</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L285-L290">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibilitymap_numeric" href="#ComradeBase.visibilitymap_numeric"><code>ComradeBase.visibilitymap_numeric</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibilties_numeric(model, p)</code></pre><p>Computes the visibilties of a <code>model</code> using a numerical fourier transform. Note that none of these are implemented in <code>ComradeBase</code>. For implementations please see <code>Comrade</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L261-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.visibilitymap_numeric!" href="#ComradeBase.visibilitymap_numeric!"><code>ComradeBase.visibilitymap_numeric!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">visibilties_numeric!(vis, model)</code></pre><p>Computes the visibilties of a <code>model</code> in-place using a numerical fourier transform. Note that none of these are implemented in <code>ComradeBase</code>. For implementations please see <code>Comrade</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L277-L282">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensity_point" href="#ComradeBase.intensity_point"><code>ComradeBase.intensity_point</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensity_point(model::AbstractModel, p)</code></pre><p>Function that computes the pointwise intensity if the model has the trait in the image domain <code>IsAnalytic()</code>. Otherwise it will use construct the image in visibility space and invert it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L153-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensitymap_analytic" href="#ComradeBase.intensitymap_analytic"><code>ComradeBase.intensitymap_analytic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensitymap_analytic(m::AbstractModel, p::AbstractSingleDomain)</code></pre><p>Computes the <code>IntensityMap</code> of a model <code>m</code> using the image dimensions <code>p</code> by broadcasting over the analytic <a href="#ComradeBase.intensity_point"><code>intensity_point</code></a> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L187-L192">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensitymap_analytic!" href="#ComradeBase.intensitymap_analytic!"><code>ComradeBase.intensitymap_analytic!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensitymap_analytic!(img::IntensityMap, m::AbstractModel)</code></pre><p>Updates the <code>img</code> using the model <code>m</code>  by broadcasting over the analytic <a href="#ComradeBase.intensity_point"><code>intensity_point</code></a> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L204-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensitymap_numeric" href="#ComradeBase.intensitymap_numeric"><code>ComradeBase.intensitymap_numeric</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensitymap_numeric(m::AbstractModel, p::AbstractSingleDomain)</code></pre><p>Computes the <code>IntensityMap</code> of a model <code>m</code> at the image positions <code>p</code> using a numerical method. This has to be specified uniquely for every model <code>m</code> if <code>imanalytic(typeof(m)) === NotAnalytic()</code>. See <code>Comrade.jl</code> for example implementations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L178-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.intensitymap_numeric!" href="#ComradeBase.intensitymap_numeric!"><code>ComradeBase.intensitymap_numeric!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">intensitymap_numeric!(img::IntensityMap, m::AbstractModel)</code></pre><p>Updates the <code>img</code> using the model <code>m</code>  using a numerical method. This has to be specified uniquely for every model <code>m</code> if <code>imanalytic(typeof(m)) === NotAnalytic()</code>. See <code>Comrade.jl</code> for example implementations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L195-L201">source</a></section></article><h3 id="Image-Domain"><a class="docs-heading-anchor" href="#Image-Domain">Image Domain</a><a id="Image-Domain-1"></a><a class="docs-heading-anchor-permalink" href="#Image-Domain" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.imagepixels" href="#ComradeBase.imagepixels"><code>ComradeBase.imagepixels</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">imagepixels(fovx, fovy, nx, ny; x0=0, y0=0, executor=Serial(), header=NoHeader())</code></pre><p>Construct a grid of pixels with a field of view <code>fovx</code> and <code>fovy</code> and <code>nx</code> and <code>ny</code> pixels. This points are the pixel centers and the field of view goes from the edge of the first pixel to the edge of the last pixel. The <code>x0</code>, <code>y0</code> offsets shift the image origin over by (<code>x0</code>, <code>y0</code>) in the image plane.</p><p><strong>Arguments:</strong></p><ul><li><code>fovx::Real</code>: The field of view in the x-direction</li><li><code>fovy::Real</code>: The field of view in the y-direction</li><li><code>nx::Integer</code>: The number of pixels in the x-direction</li><li><code>ny::Integer</code>: The number of pixels in the y-direction</li></ul><p><strong>Keyword Arguments:</strong></p><ul><li><code>x0::Real=0</code>: The x-offset of the image</li><li><code>y0::Real=0</code>: The y-offset of the image</li><li><code>executor=Serial()</code>: The executor to use for the grid, default is serial execution</li><li><code>header=NoHeader()</code>: The header to use for the grid</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L61-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.RectiGrid" href="#ComradeBase.RectiGrid"><code>ComradeBase.RectiGrid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RectiGrid(dims::NamedTuple{Na}; executor=Serial(), header=ComradeBase.NoHeader())
RectiGrid(dims::NTuple{N, &lt;:DimensionalData.Dimension}; executor=Serial(), header=ComradeBase.NoHeader())</code></pre><p>Creates a rectilinear grid of pixels with the dimensions <code>dims</code>. The dims can either be a named tuple of dimensions or a tuple of dimensions. The dimensions can be in any order however the standard orders are:</p><ul><li>(:X, :Y, :Ti, :Fr)</li><li>(:X, :Y, :Fr, :Ti)</li><li>(:X, :Y) # spatial only</li></ul><p>where <code>X,Y</code> are the RA and DEC spatial dimensions respectively, <code>Ti</code> is the time dimension and <code>Fr</code> is the frequency dimension.</p><p>Note that the majority of the time users should just call <a href="#ComradeBase.imagepixels"><code>imagepixels</code></a> to create a spatial grid.</p><p><strong>Optional Arguments</strong></p><ul><li><code>executor</code>: specifies how different models  are executed. The default is <code>Serial</code> which mean serial CPU computations. For threaded  computations use <a href="#ComradeBase.ThreadsEx"><code>ThreadsEx()</code></a> or load <code>OhMyThreads.jl</code> to uses their schedulers.</li><li><code>header</code>: specified underlying header information for the grid. This is used to store  information about the image such as the source, RA and DEC, MJD.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dims = RectiGrid((X(-5.0:0.1:5.0), Y(-4.0:0.1:4.0), Ti([1.0, 1.5, 1.75]), Fr([230, 345])); executor=ThreadsEx())
dims = RectiGrid((X = -5.0:0.1:5.0, Y = -4.0:0.1:4.0, Ti = [1.0, 1.5, 1.75], Fr = [230, 345]); executor=ThreadsEx()))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L307-L338">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.UnstructuredDomain" href="#ComradeBase.UnstructuredDomain"><code>ComradeBase.UnstructuredDomain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UnstructuredDomain(dims::AbstractArray; executor=Serial(), header=ComradeBase.NoHeader)</code></pre><p>Builds an unstructured grid (really a vector of points) from the dimensions <code>dims</code>. The <code>executor</code> is used controls how the grid is computed when calling <code>visibilitymap</code> or <code>intensitymap</code>. The default is <code>Serial</code> which mean regular CPU computations. For threaded execution use <a href="#ComradeBase.ThreadsEx"><code>ThreadsEx()</code></a> or load <code>OhMyThreads.jl</code> to uses their schedulers.</p><p>Note that unlike <code>RectiGrid</code> which assigns dimensions to the grid points, <code>UnstructuredDomain</code> does not. This is becuase the grid is unstructured the points are a cloud in a space</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L364-L374">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DimensionalData.Dimensions.dims" href="#DimensionalData.Dimensions.dims"><code>DimensionalData.Dimensions.dims</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dims(g::AbstractSingleDomain)</code></pre><p>Returns a tuple containing the dimensions of <code>g</code>. For a named version see <a href="#ComradeBase.named_dims"><code>ComradeBase.named_dims</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.named_dims" href="#ComradeBase.named_dims"><code>ComradeBase.named_dims</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">named_dims(g::AbstractSingleDomain)</code></pre><p>Returns a named tuple containing the dimensions of <code>g</code>. For a unnamed version see <a href="#DimensionalData.Dimensions.dims"><code>dims</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L113-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.axisdims" href="#ComradeBase.axisdims"><code>ComradeBase.axisdims</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">axisdims(img::IntensityMap)
axisdims(img::IntensityMap, p::Symbol)</code></pre><p>Returns the keys of the <code>IntensityMap</code> as the actual internal <code>AbstractRectiGrid</code> object. Optionall the user can ask for a specific dimension with <code>p</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/dim_image.jl#L114-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.domainpoints" href="#ComradeBase.domainpoints"><code>ComradeBase.domainpoints</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">domainpoints(g::AbstractSingleDomain)</code></pre><p>Create a grid iterator that can be used to iterate through different points. All grid methods must implement this method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L79-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.fieldofview" href="#ComradeBase.fieldofview"><code>ComradeBase.fieldofview</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fieldofview(img::IntensityMap)
fieldofview(img::IntensityMap)</code></pre><p>Returns a named tuple with the field of view of the image.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L94-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.pixelsizes" href="#ComradeBase.pixelsizes"><code>ComradeBase.pixelsizes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">pixelsizes(img::IntensityMap)
pixelsizes(img::AbstractRectiGrid)</code></pre><p>Returns a named tuple with the spatial pixel sizes of the image.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L239-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.phasecenter" href="#ComradeBase.phasecenter"><code>ComradeBase.phasecenter</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">phasecenter(img::IntensityMap)</code></pre><p>Computes the phase center of an intensity map. Note this is the pixels that is in the middle of the image.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.executor" href="#ComradeBase.executor"><code>ComradeBase.executor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">executor(g::AbstractSingleDomain)</code></pre><p>Returns the executor used to compute the intensitymap or visibilitymap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L93-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.Serial" href="#ComradeBase.Serial"><code>ComradeBase.Serial</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Serial()</code></pre><p>Uses serial execution when computing the intensitymap or visibilitymap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L133-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.ThreadsEx" href="#ComradeBase.ThreadsEx"><code>ComradeBase.ThreadsEx</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ThreadsEx(;scheduler::Symbol = :dynamic)</code></pre><p>Uses Julia&#39;s Threads @threads macro when computing the intensitymap or visibilitymap. You can choose from Julia&#39;s various schedulers by passing the scheduler as a parameter. The default is :dynamic, but it isn&#39;t considered part of the stable API and may change at any moment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L140-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.header" href="#ComradeBase.header"><code>ComradeBase.header</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">header(g::AbstractSingleDomain)</code></pre><p>Returns the headerinformation of the dimensions <code>g</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L123-L127">source</a></section><section><div><pre><code class="language-julia hljs">header(img::IntensityMap)</code></pre><p>Retrieves the header of an IntensityMap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/dim_image.jl#L127-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.NoHeader" href="#ComradeBase.NoHeader"><code>ComradeBase.NoHeader</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NoHeader</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L219-L223">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.MinimalHeader" href="#ComradeBase.MinimalHeader"><code>ComradeBase.MinimalHeader</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MinimalHeader{T}</code></pre><p>A minimal header type for ancillary image information.</p><p><strong>Fields</strong></p><ul><li><code>source</code>: Common source name</li></ul><ul><li><code>ra</code>: Right ascension of the image in degrees (J2000)</li></ul><ul><li><code>dec</code>: Declination of the image in degrees (J2000)</li></ul><ul><li><code>mjd</code>: Modified Julian Date in days</li></ul><ul><li><code>frequency</code>: Frequency of the image in Hz</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L183-L190">source</a></section></article><h3 id="Image-Types"><a class="docs-heading-anchor" href="#Image-Types">Image Types</a><a id="Image-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Image-Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.IntensityMap" href="#ComradeBase.IntensityMap"><code>ComradeBase.IntensityMap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IntensityMap{T, N, D, G&lt;:(ComradeBase.AbstractRectiGrid{D}), A&lt;:AbstractArray{T, N}, R&lt;:Tuple, Na} &lt;: AbstractDimArray{T, N, D, A&lt;:AbstractArray{T, N}}</code></pre><p>This type is the basic array type for all images and models that obey the <code>ComradeBase</code> interface. The type is a subtype of <code>DimensionalData.AbstractDimArray</code> however, we make a few changes to support the Comrade API.</p><ol><li>The dimensions should be specified by an <code>AbstractRectiGrid</code> interface. Usually users just need the <a href="#ComradeBase.RectiGrid"><code>RectiGrid</code></a> grid, for rectilinear grids.</li><li>There are two ways to access the dimensions of the array. <code>dims(img)</code> will return the usual <code>DimArray</code> dimensions, i.e. a <code>Tuple{DimensionalData.Dim, ...}</code>. The other way to access the array dimensions is using the <code>getproperty</code>, e.g., <code>img.X</code> will return the RA/X grid locations but stripped of the usual <code>DimensionalData.Dimension</code> material. This <code>getproperty</code> behavior is *NOT CONSIDERED** part of the stable API and may be changed in the future.</li><li>Metadata is stored in the <code>AbstractRectiGrid</code> type through the <code>header</code> property and can be accessed through <code>metadata</code> or <code>header</code></li></ol><p>The most common way to create a <code>IntensityMap</code> is to use the function definitions</p><pre><code class="language-julia-repl hljs">julia&gt; g = imagepixels(10.0, 10.0, 128, 128; header=NoHeader())
julia&gt; X = g.X; Y = g.Y
julia&gt; data = rand(128, 128)
julia&gt; img1 = IntensityMap(data, g)
julia&gt; img2 = IntensityMap(data, (;X, Y); header=header(g))
julia&gt; img1 == img2
true
julia&gt; img3 = IntensityMap(data, 10.0, 10.0; header=NoHeader())</code></pre><p>Broadcasting, map, and reductions should all just obey the <code>DimensionalData</code> interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/dim_image.jl#L13-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.IntensityMap-Tuple{AbstractArray, ComradeBase.AbstractRectiGrid}" href="#ComradeBase.IntensityMap-Tuple{AbstractArray, ComradeBase.AbstractRectiGrid}"><code>ComradeBase.IntensityMap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IntensityMap(data::AbstractArray, g::AbstractRectiGrid; refdims=(), name=Symbol(&quot;&quot;))</code></pre><p>Creates a IntensityMap with the pixel fluxes <code>data</code> on the grid <code>g</code>. Optionally, you can specify a set of reference dimensions <code>refdims</code> as a tuple and a name for array <code>name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/dim_image.jl#L86-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.UnstructuredMap" href="#ComradeBase.UnstructuredMap"><code>ComradeBase.UnstructuredMap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UnstructuredMap(data::AbstractVector, dims::UnstructuredDomain)</code></pre><p>A map that is defined on an unstructured domain. This is typically just a vector of values. The vector of locations of the visibilities are stored in <code>dims</code>. Otherwise this behaves very similarly to <code>IntensityMap</code>, except that is isn&#39;t a grid.</p><p>For instance the locations of the visibilities can be accessed with <code>axisdims</code>, as well as the usual <code>getproperty</code> and <code>propertynames</code> functions. Like with <code>IntensityMap</code> during execution the <code>executor</code> is used to determine the execution context.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/unstructured_map.jl#L4-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.baseimage" href="#ComradeBase.baseimage"><code>ComradeBase.baseimage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Returns the base image of a intensity map type object</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L307-L309">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.centroid" href="#ComradeBase.centroid"><code>ComradeBase.centroid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">centroid(im::AbstractIntensityMap)</code></pre><p>Computes the image centroid aka the center of light of the image.</p><p>For polarized maps we return the centroid for Stokes I only.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L124-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.second_moment" href="#ComradeBase.second_moment"><code>ComradeBase.second_moment</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">second_moment(im::AbstractIntensityMap; center=true)</code></pre><p>Computes the image second moment tensor of the image. By default we really return the second <strong>cumulant</strong> or centered second moment, which is specified by the <code>center</code> argument.</p><p>For polarized maps we return the second moment for Stokes I only.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L161-L169">source</a></section><section><div><pre><code class="language-julia hljs">second_moment(im::AbstractIntensityMap; center=true)</code></pre><p>Computes the image second moment tensor of the image. By default we really return the second <strong>cumulant</strong> or centered second moment, which is specified by the <code>center</code> argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/methods.jl#L179-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.load" href="#ComradeBase.load"><code>ComradeBase.load</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ComradeBase.load(fitsfile::String, IntensityMap)</code></pre><p>This loads in a fits file that is more robust to the various imaging algorithms in the EHT, i.e. is works with clean, smili, eht-imaging. The function returns an tuple with an intensitymap and a second named tuple with ancillary information about the image, like the source name, location, mjd, and radio frequency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/io.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.save" href="#ComradeBase.save"><code>ComradeBase.save</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ComradeBase.save(file::String, img::IntensityMap, obs)</code></pre><p>Saves an image to a fits file. You can optionally pass an EHTObservation so that ancillary information will be added.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/images/io.jl#L109-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.stokes" href="#ComradeBase.stokes"><code>ComradeBase.stokes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">stokes(m::AbstractPolarizedModel, p::Symbol)</code></pre><p>Extract the specific stokes component <code>p</code> from the polarized model <code>m</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L67-L71">source</a></section><section><div><pre><code class="language-julia hljs">stokes(m::AbstractArray{&lt;:StokesParams}, p::Symbol)</code></pre><p>Extract the specific stokes component <code>p</code> from the polarized image <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L294-L298">source</a></section></article><h2 id="Internal-Methods-not-part-of-public-API"><a class="docs-heading-anchor" href="#Internal-Methods-not-part-of-public-API">Internal Methods not part of public API</a><a id="Internal-Methods-not-part-of-public-API-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Methods-not-part-of-public-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase._visibilitymap" href="#ComradeBase._visibilitymap"><code>ComradeBase._visibilitymap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_visibilitymap(model::AbstractModel, p)</code></pre><p>Internal method used for trait dispatch and unpacking of args arguments in <code>visibilities</code></p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>Not part of the public API so it may change at any moment.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L241-L248">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase._visibilitymap!" href="#ComradeBase._visibilitymap!"><code>ComradeBase._visibilitymap!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_visibilitymap!(model::AbstractModel, p)</code></pre><p>Internal method used for trait dispatch and unpacking of args arguments in <code>visibilities!</code></p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>Not part of the public API so it may change at any moment.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/interface.jl#L251-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.create_map" href="#ComradeBase.create_map"><code>ComradeBase.create_map</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_map(array, g::AbstractSingleDomain)</code></pre><p>Create a map of values specialized by the grid <code>g</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/3995fbe6d7d99fe29c52bccabbe69767326df248/src/domain.jl#L10-L14">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ext/dynesty/">« Dynesty Extension</a><a class="docs-footer-nextpage" href="../api/">Comrade API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Thursday 16 May 2024 01:09">Thursday 16 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
