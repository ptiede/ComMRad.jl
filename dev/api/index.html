<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Comrade API · Comrade.jl</title><meta name="title" content="Comrade API · Comrade.jl"/><meta property="og:title" content="Comrade API · Comrade.jl"/><meta property="twitter:title" content="Comrade API · Comrade.jl"/><meta name="description" content="Documentation for Comrade.jl."/><meta property="og:description" content="Documentation for Comrade.jl."/><meta property="twitter:description" content="Documentation for Comrade.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Comrade.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li><a class="tocitem" href="../vlbi_imaging_problem/">Introduction to the VLBI Imaging Problem</a></li><li><a class="tocitem" href="../conventions/">Conventions</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../examples/data/">Loading Data into Comrade</a></li><li><a class="tocitem" href="../examples/geometric_modeling/">Geometric Modeling of EHT Data</a></li><li><a class="tocitem" href="../examples/imaging_closures/">Imaging a Black Hole using only Closure Quantities</a></li><li><a class="tocitem" href="../examples/imaging_vis/">Stokes I Simultaneous Image and Instrument Modeling</a></li><li><a class="tocitem" href="../examples/imaging_pol/">Polarized Image and Instrumental Modeling</a></li><li><a class="tocitem" href="../examples/hybrid_imaging/">Hybrid Imaging of a Black Hole</a></li></ul></li><li><span class="tocitem">Libraries</span><ul><li><a class="tocitem" href="../libs/optimization/">ComradeOptimization</a></li><li><a class="tocitem" href="../libs/ahmc/">ComradeAHMC</a></li><li><a class="tocitem" href="../libs/nested/">ComradeNested</a></li><li><a class="tocitem" href="../libs/dynesty/">ComradeDynesty</a></li><li><a class="tocitem" href="../libs/adaptmcmc/">ComradeAdaptMCMC</a></li></ul></li><li><a class="tocitem" href="../base_api/">ComradeBase API</a></li><li class="is-active"><a class="tocitem" href>Comrade API</a><ul class="internal"><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Model-Definitions"><span>Model Definitions</span></a></li><li><a class="tocitem" href="#Data-Types"><span>Data Types</span></a></li><li><a class="tocitem" href="#Model-Cache"><span>Model Cache</span></a></li><li><a class="tocitem" href="#Bayesian-Tools"><span>Bayesian Tools</span></a></li><li><a class="tocitem" href="#Misc"><span>Misc</span></a></li><li><a class="tocitem" href="#Internal-(Not-Public-API)"><span>Internal (Not Public API)</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Comrade API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Comrade API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ptiede/Comrade.jl/blob/main/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Comrade-API"><a class="docs-heading-anchor" href="#Comrade-API">Comrade API</a><a id="Comrade-API-1"></a><a class="docs-heading-anchor-permalink" href="#Comrade-API" title="Permalink"></a></h1><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="#Comrade-API">Comrade API</a></li><li class="no-marker"><ul><li><a href="#Contents">Contents</a></li><li><a href="#Index">Index</a></li><li><a href="#Model-Definitions">Model Definitions</a></li><li><a href="#Data-Types">Data Types</a></li><li><a href="#Model-Cache">Model Cache</a></li><li><a href="#Bayesian-Tools">Bayesian Tools</a></li><li><a href="#Misc">Misc</a></li><li><a href="#Internal-(Not-Public-API)">Internal (Not Public API)</a></li></ul></li></ul><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Comrade.Comrade"><code>Comrade.Comrade</code></a></li><li><a href="#Comrade.AbstractInterferometryDatum"><code>Comrade.AbstractInterferometryDatum</code></a></li><li><a href="#Comrade.ArrayBaselineDatum"><code>Comrade.ArrayBaselineDatum</code></a></li><li><a href="#Comrade.ArrayConfiguration"><code>Comrade.ArrayConfiguration</code></a></li><li><a href="#Comrade.CalPrior"><code>Comrade.CalPrior</code></a></li><li><a href="#Comrade.CalPrior-Tuple{NamedTuple, NamedTuple, JonesCache}"><code>Comrade.CalPrior</code></a></li><li><a href="#Comrade.CalPrior-Tuple{NamedTuple, JonesCache}"><code>Comrade.CalPrior</code></a></li><li><a href="#Comrade.CalTable"><code>Comrade.CalTable</code></a></li><li><a href="#Comrade.ClosureConfig"><code>Comrade.ClosureConfig</code></a></li><li><a href="#Comrade.ClosurePhases"><code>Comrade.ClosurePhases</code></a></li><li><a href="#Comrade.Coherencies"><code>Comrade.Coherencies</code></a></li><li><a href="#Comrade.ComplexVisibilities"><code>Comrade.ComplexVisibilities</code></a></li><li><a href="#Comrade.DesignMatrix"><code>Comrade.DesignMatrix</code></a></li><li><a href="#Comrade.EHTArrayConfiguration"><code>Comrade.EHTArrayConfiguration</code></a></li><li><a href="#Comrade.EHTClosurePhaseDatum"><code>Comrade.EHTClosurePhaseDatum</code></a></li><li><a href="#Comrade.EHTCoherencyDatum"><code>Comrade.EHTCoherencyDatum</code></a></li><li><a href="#Comrade.EHTLogClosureAmplitudeDatum"><code>Comrade.EHTLogClosureAmplitudeDatum</code></a></li><li><a href="#Comrade.EHTObservation"><code>Comrade.EHTObservation</code></a></li><li><a href="#Comrade.EHTVisibilityAmplitudeDatum"><code>Comrade.EHTVisibilityAmplitudeDatum</code></a></li><li><a href="#Comrade.EHTVisibilityDatum"><code>Comrade.EHTVisibilityDatum</code></a></li><li><a href="#Comrade.FixedSeg"><code>Comrade.FixedSeg</code></a></li><li><a href="#Comrade.GainSchema"><code>Comrade.GainSchema</code></a></li><li><a href="#Comrade.IntegSeg"><code>Comrade.IntegSeg</code></a></li><li><a href="#Comrade.IsCube"><code>Comrade.IsCube</code></a></li><li><a href="#Comrade.IsFlat"><code>Comrade.IsFlat</code></a></li><li><a href="#Comrade.JonesCache"><code>Comrade.JonesCache</code></a></li><li><a href="#Comrade.JonesModel"><code>Comrade.JonesModel</code></a></li><li><a href="#Comrade.JonesPairs"><code>Comrade.JonesPairs</code></a></li><li><a href="#Comrade.LogClosureAmplitudes"><code>Comrade.LogClosureAmplitudes</code></a></li><li><a href="#Comrade.MultiRadioLikelihood"><code>Comrade.MultiRadioLikelihood</code></a></li><li><a href="#Comrade.ObsSegmentation"><code>Comrade.ObsSegmentation</code></a></li><li><a href="#Comrade.Posterior"><code>Comrade.Posterior</code></a></li><li><a href="#Comrade.RIMEModel"><code>Comrade.RIMEModel</code></a></li><li><a href="#Comrade.RadioLikelihood"><code>Comrade.RadioLikelihood</code></a></li><li><a href="#Comrade.RandomReference"><code>Comrade.RandomReference</code></a></li><li><a href="#Comrade.ResponseCache"><code>Comrade.ResponseCache</code></a></li><li><a href="#Comrade.SEFDReference"><code>Comrade.SEFDReference</code></a></li><li><a href="#Comrade.Scan"><code>Comrade.Scan</code></a></li><li><a href="#Comrade.ScanSeg"><code>Comrade.ScanSeg</code></a></li><li><a href="#Comrade.ScanTable"><code>Comrade.ScanTable</code></a></li><li><a href="#Comrade.SegmentedJonesCache"><code>Comrade.SegmentedJonesCache</code></a></li><li><a href="#Comrade.SingleReference"><code>Comrade.SingleReference</code></a></li><li><a href="#Comrade.TrackSeg"><code>Comrade.TrackSeg</code></a></li><li><a href="#Comrade.TransformedPosterior"><code>Comrade.TransformedPosterior</code></a></li><li><a href="#Comrade.VLBIModel"><code>Comrade.VLBIModel</code></a></li><li><a href="#Comrade.VisibilityAmplitudes"><code>Comrade.VisibilityAmplitudes</code></a></li><li><a href="#VLBISkyModels.DFTAlg-Tuple{Comrade.EHTObservation}"><code>VLBISkyModels.DFTAlg</code></a></li><li><a href="#VLBISkyModels.DFTAlg-Tuple{Comrade.ArrayConfiguration}"><code>VLBISkyModels.DFTAlg</code></a></li><li><a href="#VLBISkyModels.NFFTAlg-Tuple{Comrade.EHTObservation}"><code>VLBISkyModels.NFFTAlg</code></a></li><li><a href="#VLBISkyModels.NFFTAlg-Tuple{Comrade.ArrayConfiguration}"><code>VLBISkyModels.NFFTAlg</code></a></li><li><a href="#Base.map-Tuple{Any, Vararg{Comrade.JonesPairs}}"><code>Base.map</code></a></li><li><a href="#Comrade.arrayconfig"><code>Comrade.arrayconfig</code></a></li><li><a href="#Comrade.baselines"><code>Comrade.baselines</code></a></li><li><a href="#Comrade.beamsize"><code>Comrade.beamsize</code></a></li><li><a href="#Comrade.caltable-Tuple{Comrade.EHTObservation, AbstractVector}"><code>Comrade.caltable</code></a></li><li><a href="#Comrade.caltable-Tuple{JonesCache, AbstractVector}"><code>Comrade.caltable</code></a></li><li><a href="#Comrade.caltable"><code>Comrade.caltable</code></a></li><li><a href="#Comrade.corrupt"><code>Comrade.corrupt</code></a></li><li><a href="#Comrade.dataproducts"><code>Comrade.dataproducts</code></a></li><li><a href="#Comrade.dirty_beam"><code>Comrade.dirty_beam</code></a></li><li><a href="#Comrade.dirty_image"><code>Comrade.dirty_image</code></a></li><li><a href="#Comrade.extract_FRs"><code>Comrade.extract_FRs</code></a></li><li><a href="#Comrade.extract_amp"><code>Comrade.extract_amp</code></a></li><li><a href="#Comrade.extract_coherency"><code>Comrade.extract_coherency</code></a></li><li><a href="#Comrade.extract_cphase"><code>Comrade.extract_cphase</code></a></li><li><a href="#Comrade.extract_lcamp"><code>Comrade.extract_lcamp</code></a></li><li><a href="#Comrade.extract_table"><code>Comrade.extract_table</code></a></li><li><a href="#Comrade.extract_vis"><code>Comrade.extract_vis</code></a></li><li><a href="#Comrade.getdata"><code>Comrade.getdata</code></a></li><li><a href="#Comrade.getuv"><code>Comrade.getuv</code></a></li><li><a href="#Comrade.getuvtimefreq"><code>Comrade.getuvtimefreq</code></a></li><li><a href="#Comrade.instrumentmodel"><code>Comrade.instrumentmodel</code></a></li><li><a href="#Comrade.jonesD"><code>Comrade.jonesD</code></a></li><li><a href="#Comrade.jonesG"><code>Comrade.jonesG</code></a></li><li><a href="#Comrade.jonesStokes"><code>Comrade.jonesStokes</code></a></li><li><a href="#Comrade.jonesT"><code>Comrade.jonesT</code></a></li><li><a href="#Comrade.jonescache-Tuple{Comrade.EHTObservation, Comrade.ObsSegmentation}"><code>Comrade.jonescache</code></a></li><li><a href="#Comrade.likelihood"><code>Comrade.likelihood</code></a></li><li><a href="#Comrade.prior_sample"><code>Comrade.prior_sample</code></a></li><li><a href="#Comrade.samplertype"><code>Comrade.samplertype</code></a></li><li><a href="#Comrade.scantable"><code>Comrade.scantable</code></a></li><li><a href="#Comrade.simulate_observation"><code>Comrade.simulate_observation</code></a></li><li><a href="#Comrade.skymodel"><code>Comrade.skymodel</code></a></li><li><a href="#Comrade.station_tuple"><code>Comrade.station_tuple</code></a></li><li><a href="#Comrade.stations"><code>Comrade.stations</code></a></li><li><a href="#Comrade.uvpositions"><code>Comrade.uvpositions</code></a></li><li><a href="#Comrade.vlbimodel"><code>Comrade.vlbimodel</code></a></li><li><a href="#ComradeBase._visibilities"><code>ComradeBase._visibilities</code></a></li><li><a href="#ComradeBase._visibilities!"><code>ComradeBase._visibilities!</code></a></li><li><a href="#ComradeBase.closure_phase-Tuple{Comrade.EHTVisibilityDatum, Comrade.EHTVisibilityDatum, Comrade.EHTVisibilityDatum}"><code>ComradeBase.closure_phase</code></a></li><li><a href="#HypercubeTransform.ascube"><code>HypercubeTransform.ascube</code></a></li><li><a href="#HypercubeTransform.asflat"><code>HypercubeTransform.asflat</code></a></li><li><a href="#ParameterHandling.flatten"><code>ParameterHandling.flatten</code></a></li><li><a href="#StatsBase.sample-Tuple{Posterior}"><code>StatsBase.sample</code></a></li><li><a href="#TransformVariables.inverse"><code>TransformVariables.inverse</code></a></li><li><a href="#TransformVariables.transform"><code>TransformVariables.transform</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.Comrade" href="#Comrade.Comrade"><code>Comrade.Comrade</code></a> — <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">Comrade</code></pre><p>Composable Modeling of Radio Emission</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/Comrade.jl#L1-L4">source</a></section></article><h2 id="Model-Definitions"><a class="docs-heading-anchor" href="#Model-Definitions">Model Definitions</a><a id="Model-Definitions-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Definitions" title="Permalink"></a></h2><h3 id="Calibration-Models"><a class="docs-heading-anchor" href="#Calibration-Models">Calibration Models</a><a id="Calibration-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Calibration-Models" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.corrupt" href="#Comrade.corrupt"><code>Comrade.corrupt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">corrupt(vis, j1, j2)</code></pre><p>Corrupts the model coherency matrices with the Jones matrices <code>j1</code> for station 1 and <code>j2</code> for station 2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L950-L955">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.CalTable" href="#Comrade.CalTable"><code>Comrade.CalTable</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct CalTable{T, G&lt;:(AbstractVecOrMat)}</code></pre><p>A Tabes of calibration quantities. The columns of the table are the telescope station codes. The rows are the calibration quantities at a specific time stamp. This user should not use this struct directly. Instead that should call <a href="#Comrade.caltable"><code>caltable</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/caltable.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.caltable-Tuple{JonesCache, AbstractVector}" href="#Comrade.caltable-Tuple{JonesCache, AbstractVector}"><code>Comrade.caltable</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">caltable(g::JonesCache, jterms::AbstractVector)</code></pre><p>Convert the JonesCache <code>g</code> and recovered Jones/corruption elements <code>jterms</code> into a <code>CalTable</code> which satisfies the <code>Tables.jl</code> interface.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ct = caltable(gcache, gains)

# Access a particular station (here ALMA)
ct[:AA]
ct.AA

# Access a the first row
ct[1, :]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/caltable.jl#L260-L278">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.caltable-Tuple{Comrade.EHTObservation, AbstractVector}" href="#Comrade.caltable-Tuple{Comrade.EHTObservation, AbstractVector}"><code>Comrade.caltable</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">caltable(obs::EHTObservation, gains::AbstractVector)</code></pre><p>Create a calibration table for the observations <code>obs</code> with <code>gains</code>. This returns a <a href="#Comrade.CalTable"><code>CalTable</code></a> object that satisfies the <code>Tables.jl</code> interface. This table is very similar to the <code>DataFrames</code> interface.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ct = caltable(obs, gains)

# Access a particular station (here ALMA)
ct[:AA]
ct.AA

# Access a the first row
ct[1, :]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/caltable.jl#L200-L219">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.DesignMatrix" href="#Comrade.DesignMatrix"><code>Comrade.DesignMatrix</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct DesignMatrix{X, M&lt;:AbstractArray{X, 2}, T, S} &lt;: AbstractArray{X, 2}</code></pre><p>Internal type that holds the gain design matrices for visibility corruption.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/designmatrix.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.JonesCache" href="#Comrade.JonesCache"><code>Comrade.JonesCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct JonesCache{D1, D2, S, Sc, R} &lt;: Comrade.AbstractJonesCache</code></pre><p>Holds the ancillary information for a the design matrix cache for Jones matrices. That is, it defines the cached map that moves from model visibilities to the corrupted voltages that are measured from the telescope.</p><p><strong>Fields</strong></p><ul><li><code>m1</code>: Design matrix for the first station</li></ul><ul><li><code>m2</code>: Design matrix for the second station</li></ul><ul><li><code>seg</code>: Segmentation schemes for this cache</li></ul><ul><li><code>schema</code>: Gain Schema</li></ul><ul><li><code>references</code>: List of Reference stations</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L94-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ResponseCache" href="#Comrade.ResponseCache"><code>Comrade.ResponseCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ResponseCache{M, B&lt;:PolBasis} &lt;: Comrade.AbstractJonesCache</code></pre><p>Holds various transformations that move from the measured telescope basis to the <strong>chosen</strong> on sky reference basis.</p><p><strong>Fields</strong></p><ul><li><code>T1</code>: Transform matrices for the first stations</li></ul><ul><li><code>T2</code>: Transform matrices for the second stations</li></ul><ul><li><code>refbasis</code>: Reference polarization basis</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L873-L881">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.JonesModel" href="#Comrade.JonesModel"><code>Comrade.JonesModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">JonesModel(jones::JonesPairs, refbasis = CirBasis())
JonesModel(jones::JonesPairs, tcache::ResponseCache)</code></pre><p>Constructs the intrument corruption model using pairs of jones matrices <code>jones</code> and a reference basis</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/calibration.jl#L14-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.VLBIModel" href="#Comrade.VLBIModel"><code>Comrade.VLBIModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VLBIModel(skymodel, instrumentmodel)</code></pre><p>Constructs a <code>VLBIModel</code> from a <code>jones</code> pairs that describe the intrument model and the <code>model</code> which describes the on-sky polarized visibilities. The third argument can either be the <code>tcache</code> that converts from the model coherency basis to the instrumental basis, or just the <code>refbasis</code> that will be used when constructing the model coherency matrices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/calibration.jl#L46-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.CalPrior" href="#Comrade.CalPrior"><code>Comrade.CalPrior</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CalPrior(dists, cache::JonesCache, reference=:none)</code></pre><p>Creates a distribution for the gain priors for gain cache <code>cache</code>. The <code>dists</code> should be a NamedTuple of <code>Distributions</code>, where each name corresponds to a telescope or station in the observation. The resulting type is a subtype of the <code>Distributions.AbstractDistribution</code> so the usual <code>Distributions</code> interface should work.</p><p><strong>Example</strong></p><p>For the 2017 observations of M87 a common CalPrior call is:</p><pre><code class="language-julia-repl hljs">julia&gt; gdist = CalPrior((AA = LogNormal(0.0, 0.1),
                   AP = LogNormal(0.0, 0.1),
                   JC = LogNormal(0.0, 0.1),
                   SM = LogNormal(0.0, 0.1),
                   AZ = LogNormal(0.0, 0.1),
                   LM = LogNormal(0.0, 1.0),
                   PV = LogNormal(0.0, 0.1)
                ), cache)

julia&gt; x = rand(gdist)
julia&gt; logdensityof(gdist, x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/priors.jl#L8-L33">source</a></section><section><div><pre><code class="language-julia hljs">CalPrior(dist0::NamedTuple, dist_transition::NamedTuple, jcache::SegmentedJonesCache)</code></pre><p>Constructs a calibration prior in two steps. The first two arguments have to be a named tuple of distributions, where each name corresponds to a site. The first argument is gain prior for the first time stamp. The second argument is the segmented gain prior for each subsequent time stamp. For instance, if we have</p><pre><code class="language-julia hljs">dist0 = (AA = Normal(0.0, 1.0), )
distt = (AA = Normal(0.0, 0.1), )</code></pre><p>then the gain prior for first time stamp that AA obserserves will be <code>Normal(0.0, 1.0)</code>. The next time stamp gain is the construted from</p><pre><code class="nohighlight hljs">g2 = g1 + ϵ1</code></pre><p>where <code>ϵ1 ~ Normal(0.0, 0.1) = distt.AA</code>, and <code>g1</code> is the gain from the first time stamp. In other words <code>distt</code> is the uncorrelated transition probability when moving from timestamp i to timestamp i+1. For the typical pre-calibrated dataset the gain prior on <code>distt</code> can be tighter than the prior on <code>dist0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/priors.jl#L42-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.CalPrior-Tuple{NamedTuple, JonesCache}" href="#Comrade.CalPrior-Tuple{NamedTuple, JonesCache}"><code>Comrade.CalPrior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CalPrior(dists, cache::JonesCache, reference=:none)</code></pre><p>Creates a distribution for the gain priors for gain cache <code>cache</code>. The <code>dists</code> should be a NamedTuple of <code>Distributions</code>, where each name corresponds to a telescope or station in the observation. The resulting type is a subtype of the <code>Distributions.AbstractDistribution</code> so the usual <code>Distributions</code> interface should work.</p><p><strong>Example</strong></p><p>For the 2017 observations of M87 a common CalPrior call is:</p><pre><code class="language-julia-repl hljs">julia&gt; gdist = CalPrior((AA = LogNormal(0.0, 0.1),
                   AP = LogNormal(0.0, 0.1),
                   JC = LogNormal(0.0, 0.1),
                   SM = LogNormal(0.0, 0.1),
                   AZ = LogNormal(0.0, 0.1),
                   LM = LogNormal(0.0, 1.0),
                   PV = LogNormal(0.0, 0.1)
                ), cache)

julia&gt; x = rand(gdist)
julia&gt; logdensityof(gdist, x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/priors.jl#L8-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.CalPrior-Tuple{NamedTuple, NamedTuple, JonesCache}" href="#Comrade.CalPrior-Tuple{NamedTuple, NamedTuple, JonesCache}"><code>Comrade.CalPrior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CalPrior(dist0::NamedTuple, dist_transition::NamedTuple, jcache::SegmentedJonesCache)</code></pre><p>Constructs a calibration prior in two steps. The first two arguments have to be a named tuple of distributions, where each name corresponds to a site. The first argument is gain prior for the first time stamp. The second argument is the segmented gain prior for each subsequent time stamp. For instance, if we have</p><pre><code class="language-julia hljs">dist0 = (AA = Normal(0.0, 1.0), )
distt = (AA = Normal(0.0, 0.1), )</code></pre><p>then the gain prior for first time stamp that AA obserserves will be <code>Normal(0.0, 1.0)</code>. The next time stamp gain is the construted from</p><pre><code class="nohighlight hljs">g2 = g1 + ϵ1</code></pre><p>where <code>ϵ1 ~ Normal(0.0, 0.1) = distt.AA</code>, and <code>g1</code> is the gain from the first time stamp. In other words <code>distt</code> is the uncorrelated transition probability when moving from timestamp i to timestamp i+1. For the typical pre-calibrated dataset the gain prior on <code>distt</code> can be tighter than the prior on <code>dist0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/priors.jl#L42-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.RIMEModel" href="#Comrade.RIMEModel"><code>Comrade.RIMEModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type RIMEModel &lt;: ComradeBase.AbstractModel</code></pre><p>Abstract type that encompasses all RIME style corruptions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/calibration.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ObsSegmentation" href="#Comrade.ObsSegmentation"><code>Comrade.ObsSegmentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type ObsSegmentation</code></pre><p>The data segmentation scheme to use. This is important for constructing a <a href="#Comrade.JonesCache"><code>JonesCache</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.IntegSeg" href="#Comrade.IntegSeg"><code>Comrade.IntegSeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IntegSeg{S} &lt;: Comrade.ObsSegmentation</code></pre><p>Data segmentation such that the quantity is constant over a correlation integration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ScanSeg" href="#Comrade.ScanSeg"><code>Comrade.ScanSeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ScanSeg{S} &lt;: Comrade.ObsSegmentation</code></pre><p>Data segmentation such that the quantity is constant over a <code>scan</code>.</p><p><strong>Warning</strong></p><p>Currently we do not explicity track the telescope scans. This will be fixed in a future version. Right now <code>ScanSeg</code> and <code>TrackSeg</code> are the same</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L20-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.TrackSeg" href="#Comrade.TrackSeg"><code>Comrade.TrackSeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TrackSeg &lt;: Comrade.ObsSegmentation</code></pre><p>Data segmentation such that the quantity is constant over a <code>track</code>, i.e., the observation &quot;night&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.FixedSeg" href="#Comrade.FixedSeg"><code>Comrade.FixedSeg</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct FixedSeg{T} &lt;: Comrade.ObsSegmentation</code></pre><p>Enforces that the station calibraton value will have a fixed <code>value</code>. This is most commonly used when enforcing a reference station for gain phases.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L41-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.jonescache-Tuple{Comrade.EHTObservation, Comrade.ObsSegmentation}" href="#Comrade.jonescache-Tuple{Comrade.EHTObservation, Comrade.ObsSegmentation}"><code>Comrade.jonescache</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">jonescache(obs::EHTObservation, segmentation::ObsSegmentation)
jonescache(obs::EHTObservatoin, segmentation::NamedTuple)</code></pre><p>Constructs a <code>JonesCache</code> from a given observation <code>obs</code> using the segmentation scheme <code>segmentation</code>. If <code>segmentation</code> is a named tuple it is assumed that each symbol in the named tuple corresponds to a segmentation for thes sites in <code>obs</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs"># coh is a EHTObservation
julia&gt; jonescache(coh, ScanSeg())
julia&gt; segs = (AA = ScanSeg(), AP = TrachSeg(), AZ=FixedSegSeg())
julia&gt; jonescache(coh, segs)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L491-L506">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.SingleReference" href="#Comrade.SingleReference"><code>Comrade.SingleReference</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SingleReference(site::Symbol, val::Number)</code></pre><p>Use a single site as a reference. The station gain will be set equal to <code>val</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L224-L228">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.RandomReference" href="#Comrade.RandomReference"><code>Comrade.RandomReference</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RandomReference(val::Number)</code></pre><p>For each timestamp select a random reference station whose station gain will be set to <code>val</code>.</p><p><strong>Notes</strong></p><p>This is useful when there isn&#39;t a single site available for all scans and you want to split up the choice of reference site. We recommend only using this option for Stokes I fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L235-L243">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.SEFDReference" href="#Comrade.SEFDReference"><code>Comrade.SEFDReference</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SiteOrderReference(val::Number, sefd_index = 1)</code></pre><p>Selects the reference site based on the SEFD of each telescope, where the smallest SEFD is preferentially selected. The reference gain is set to <code>val</code> and the user can select to use the <code>n</code> lowest SEFD site by passing <code>sefd_index = n</code>.</p><p><strong>Notes</strong></p><p>This is done on a per-scan basis so if a site is missing from a scan the next highest SEFD site will be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L251-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.jonesStokes" href="#Comrade.jonesStokes"><code>Comrade.jonesStokes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">jonesStokes(g1::AbstractArray, gcache::AbstractJonesCache)
jonesStokes(f, g1::AbstractArray, gcache::AbstractJonesCache)</code></pre><p>Construct the Jones Pairs for the stokes I image only. That is, we only need to pass a single vector corresponding to the gain for the stokes I visibility. This is for when you only want to image Stokes I. The first argument is optional and denotes a function that is applied to every element of jones cache. For instance if <code>g1</code> and <code>g2</code> are the log-gains then <code>f=exp</code> will convert them into the gains.</p><p><strong>Warning</strong></p><p>In the future this functionality may be removed when stokes I fitting is replaced with the more correct <code>trace(coherency)</code>, i.e. RR+LL for a circular basis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L839-L854">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.jonesG" href="#Comrade.jonesG"><code>Comrade.jonesG</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">jonesG(g1::AbstractVector, g2::AbstractVector, jcache::AbstractJonesCache)
jonesG(f, g1::AbstractVector, g2::AbstractVector, jcache::AbstractJonesCache)</code></pre><p>Constructs the pairs Jones <code>G</code> matrices for each pair of stations. The <code>g1</code> are the gains for the first polarization basis and <code>g2</code> are the gains for the other polarization. The first argument is optional and denotes a function that is applied to every element of jones cache. For instance if <code>g1</code> and <code>g2</code> are the log-gains then <code>f=exp</code> will convert them into the gains.</p><p>The layout for each matrix is as follows:</p><pre><code class="nohighlight hljs">    g1 0
    0  g2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L736-L751">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.jonesD" href="#Comrade.jonesD"><code>Comrade.jonesD</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">jonesD(d1::AbstractVector, d2::AbstractVector, jcache::AbstractJonesCache)
jonesD(f, d1::AbstractVector, d2::AbstractVector, jcache::AbstractJonesCache)</code></pre><p>Constructs the pairs Jones <code>D</code> matrices for each pair of stations. The <code>d1</code> are the d-termsfor the first polarization basis and <code>d2</code> are the d-terms for the other polarization. The first argument is optional and denotes a function that is applied to every element of jones cache. For instance if <code>d1</code> and <code>d2</code> are the log-dterms then <code>f=exp</code> will convert them into the dterms.</p><p>The layout for each matrix is as follows:</p><pre><code class="nohighlight hljs">    1  d1
    d2 1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L774-L789">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.jonesT" href="#Comrade.jonesT"><code>Comrade.jonesT</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">jonesT(tcache::ResponseCache)</code></pre><p>Returns a <code>JonesPair</code> of matrices that transform from the model coherency matrices basis to the on-sky coherency basis, this includes the feed rotation and choice of polarization feeds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L940-L945">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.map-Tuple{Any, Vararg{Comrade.JonesPairs}}" href="#Base.map-Tuple{Any, Vararg{Comrade.JonesPairs}}"><code>Base.map</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map(f, args::JonesPairs...) -&gt; JonesPairs</code></pre><p>Maps over a set of <a href="#Comrade.JonesPairs"><code>JonesPairs</code></a> applying the function f to each element. This returns a collected JonesPair. This us useful for more advanced operations on Jones matrices.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">map(G, D, F) do g, d, f
    return f&#39;*exp.(g)*d*f
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L545-L558">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.caltable" href="#Comrade.caltable"><code>Comrade.caltable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">caltable(args...)</code></pre><p>Creates a calibration table from a set of arguments. The specific arguments depend on what calibration you are applying.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/caltable.jl#L17-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.JonesPairs" href="#Comrade.JonesPairs"><code>Comrade.JonesPairs</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct JonesPairs{T, M1&lt;:AbstractArray{T, 1}, M2&lt;:AbstractArray{T, 1}}</code></pre><p>Holds the pairs of Jones matrices for the first and second station of a baseline.</p><p><strong>Fields</strong></p><ul><li><code>m1</code>: Vector of jones matrices for station 1</li></ul><ul><li><code>m2</code>: Vector of jones matrices for station 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L526-L533">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.GainSchema" href="#Comrade.GainSchema"><code>Comrade.GainSchema</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GainSchema(sites, times)</code></pre><p>Constructs a schema for the gains of an observation. The <code>sites</code> and <code>times</code> correspond to the specific site and time for each gain that will be modeled.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L288-L293">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.SegmentedJonesCache" href="#Comrade.SegmentedJonesCache"><code>Comrade.SegmentedJonesCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct SegmentedJonesCache{D, S&lt;:Comrade.ObsSegmentation, ST, Ti} &lt;: Comrade.AbstractJonesCache</code></pre><p>Holds the ancillary information for a the design matrix cache for Jones matrices. That is, it defines the cached map that moves from model visibilities to the corrupted voltages that are measured from the telescope. This uses a segmented decomposition so that the gain at a single timestamp is the sum of the previous gains. In this formulation the gains parameters are the segmented gain offsets from timestamp to timestamp</p><p><strong>Fields</strong></p><ul><li><code>m1</code>: Design matrix for the first station</li></ul><ul><li><code>m2</code>: Design matrix for the second station</li></ul><ul><li><code>seg</code>: Segmentation scheme for this cache</li></ul><ul><li><code>stations</code>: station codes</li></ul><ul><li><code>times</code>: times</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L127-L138">source</a></section></article><h3 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h3><p>For the description of the model API see <a href="https://ehtjulia.github.io/VLBISkyModels.jl/stable/">VLBISkyModels</a>.</p><h2 id="Data-Types"><a class="docs-heading-anchor" href="#Data-Types">Data Types</a><a id="Data-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_table" href="#Comrade.extract_table"><code>Comrade.extract_table</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_table(obs, dataproducts::VLBIDataProducts)</code></pre><p>Extract an <a href="#Comrade.EHTObservation"><code>Comrade.EHTObservation</code></a> table of data products <code>dataproducts</code>. To pass additional keyword for the data products you can pass them as keyword arguments to the data product type. For a list of potential data products see <code>subtypes(Comrade.VLBIDataProducts)</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; dlcamp, dcphase = extract_table(obs, LogClosureAmplitudes(;snrcut=3.0), ClosurePhases(;snrcut=3.0, cut_trivial=true))
julia&gt; dcoh = extract_table(obs, Coherencies())
julia&gt; dvis = extract_table(obs, VisibilityAmplitudes())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L124-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ComplexVisibilities" href="#Comrade.ComplexVisibilities"><code>Comrade.ComplexVisibilities</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ComplexVisibilities(;kwargs...)</code></pre><p>Type to specify to extract the complex visibilities table in the <a href="#Comrade.extract_table"><code>extract_table</code></a> function. Optional keywords are passed through <code>extract_table</code> to specify additional option.</p><p><strong>Special keywords for eht-imaging with Pyehtim.jl</strong></p><p>Any keyword arguments are ignored for now. Use eht-imaging directly to modify the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L92-L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.VisibilityAmplitudes" href="#Comrade.VisibilityAmplitudes"><code>Comrade.VisibilityAmplitudes</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ComplexVisibilities(;kwargs...)</code></pre><p>Type to specify to extract the log closure amplitudes table in the <a href="#Comrade.extract_table"><code>extract_table</code></a> function. Optional keywords are passed through <code>extract_table</code> to specify additional option.</p><p><strong>Special keywords for eht-imaging with Pyehtim.jl</strong></p><p>For a list of potential keyword arguments see <code>eht-imaging</code> and <code>add_amp</code> command for obsdata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L79-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ClosurePhases" href="#Comrade.ClosurePhases"><code>Comrade.ClosurePhases</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ClosuresPhases(;kwargs...)</code></pre><p>Type to specify to extract the closure phase table in the <a href="#Comrade.extract_table"><code>extract_table</code></a> function. Optional keywords are passed through <code>extract_table</code> to specify additional option.</p><p><strong>Special keywords for eht-imaging with Pyehtim.jl</strong></p><p>For a list of potential keyword arguments see <code>eht-imaging</code> and <code>add_cphase</code> command for obsdata. In addition note we have changed the following:</p><ul><li>count: How the closures are formed, the available options are &quot;min-correct&quot;, &quot;min&quot;, &quot;max&quot;</li></ul><p><strong>Warning</strong></p><p>The <code>count</code> keyword argument is treated specially in <code>Comrade</code>. The default option is &quot;min-correct&quot; and should almost always be used. This option construct a minimal set of closure phases that is valid even when the array isn&#39;t fully connected. For testing and legacy reasons we <code>ehtim</code> other count options are also included. However, the current <code>ehtim</code> count=&quot;min&quot; option is broken and does construct proper minimal sets of closure quantities if the array isn&#39;t fully connected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L28-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.LogClosureAmplitudes" href="#Comrade.LogClosureAmplitudes"><code>Comrade.LogClosureAmplitudes</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LogClosureAmplitudes(;kwargs...)</code></pre><p>Type to specify to extract the log closure amplitudes table in the <a href="#Comrade.extract_table"><code>extract_table</code></a> function. Optional keywords are passed through <code>extract_table</code> to specify additional option.</p><p><strong>Special keywords for eht-imaging with Pyehtim.jl</strong></p><p>For a list of potential keyword arguments see <code>eht-imaging</code> and <code>add_cphase</code> command for obsdata. In addition note we have changed the following:</p><ul><li>count: How the closures are formed, the available options are &quot;min-correct&quot;, &quot;min&quot;, &quot;max&quot;</li></ul><p>Returns an EHTObservation with log-closure amp. datums</p><p><strong>Warning</strong></p><p>The <code>count</code> keyword argument is treated specially in <code>Comrade</code>. The default option is &quot;min-correct&quot; and should almost always be used. This option construct a minimal set of closure phases that is valid even when the array isn&#39;t fully connected. For testing and legacy reasons we <code>ehtim</code> other count options are also included. However, the current <code>ehtim</code> count=&quot;min&quot; option is broken and does construct proper minimal sets of closure quantities if the array isn&#39;t fully connected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L53-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.Coherencies" href="#Comrade.Coherencies"><code>Comrade.Coherencies</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Coherencies(;kwargs...)</code></pre><p>Type to specify to extract the coherency matrices table in the <a href="#Comrade.extract_table"><code>extract_table</code></a> function. Optional keywords are passed through <code>extract_table</code> to specify additional option.</p><p><strong>Special keywords for eht-imaging with Pyehtim.jl</strong></p><p>Any keyword arguments are ignored for now. Use eht-imaging directly to modify the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L105-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.baselines" href="#Comrade.baselines"><code>Comrade.baselines</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">baselines(CP::EHTClosurePhaseDatum)</code></pre><p>Returns the baselines used for a single closure phase datum</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L762-L766">source</a></section><section><div><pre><code class="language-julia hljs">baselines(CP::EHTLogClosureAmplitudeDatum)</code></pre><p>Returns the baselines used for a single closure phase datum</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L838-L842">source</a></section><section><div><pre><code class="language-julia hljs">baselines(scan::Scan)</code></pre><p>Return the baselines for each datum in a scan</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L946-L950">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.arrayconfig" href="#Comrade.arrayconfig"><code>Comrade.arrayconfig</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">arrayconfig(vis)
</code></pre><p>Extract the array configuration from a EHT observation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L856-L860">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase.closure_phase-Tuple{Comrade.EHTVisibilityDatum, Comrade.EHTVisibilityDatum, Comrade.EHTVisibilityDatum}" href="#ComradeBase.closure_phase-Tuple{Comrade.EHTVisibilityDatum, Comrade.EHTVisibilityDatum, Comrade.EHTVisibilityDatum}"><code>ComradeBase.closure_phase</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">closure_phase(D1::EHTVisibilityDatum,
              D2::EHTVisibilityDatum,
              D3::EHTVisibilityDatum
              )</code></pre><p>Computes the closure phase of the three visibility datums.</p><p><strong>Notes</strong></p><p>We currently use the high SNR Gaussian error approximation for the closure phase. In the future we may use the moment matching from Monte Carlo sampling.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L727-L738">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.getdata" href="#Comrade.getdata"><code>Comrade.getdata</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getdata(obs::EHTObservation, s::Symbol)</code></pre><p>Pass-through function that gets the array of <code>s</code> from the EHTObservation. For example say you want the times of all measurement then</p><pre><code class="language-julia hljs">getdata(obs, :time)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L412-L421">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.getuv" href="#Comrade.getuv"><code>Comrade.getuv</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getuv</code></pre><p>Get the u, v positions of the array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L277-L281">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.getuvtimefreq" href="#Comrade.getuvtimefreq"><code>Comrade.getuvtimefreq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getuvtimefreq(ac)
</code></pre><p>Get the u, v, time, freq of the array as a tuple.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L292-L296">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.scantable" href="#Comrade.scantable"><code>Comrade.scantable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">scantable(obs::EHTObservation)</code></pre><p>Reorganizes the observation into a table of scans, where scan are defined by unique timestamps. To access the data you can use scalar indexing</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">st = scantable(obs)
# Grab the first scan
scan1 = st[1]

# Acess the detections in the scan
scan1[1]

# grab e.g. the baselines
scan1[:baseline]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L1026-L1045">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.stations" href="#Comrade.stations"><code>Comrade.stations</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">stations(d::EHTObservation)</code></pre><p>Get all the stations in a observation. The result is a vector of symbols.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L457-L461">source</a></section><section><div><pre><code class="language-julia hljs">stations(g::CalTable)</code></pre><p>Return the stations in the calibration table</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/caltable.jl#L28-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.uvpositions" href="#Comrade.uvpositions"><code>Comrade.uvpositions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">uvpositions(datum::AbstractVisibilityDatum)</code></pre><p>Get the uvp positions of an inferometric datum.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L361-L365">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ArrayConfiguration" href="#Comrade.ArrayConfiguration"><code>Comrade.ArrayConfiguration</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type ArrayConfiguration</code></pre><p>This defined the abstract type for an array configuration. Namely, baseline times, SEFD&#39;s, bandwidth, observation frequencies, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L207-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ClosureConfig" href="#Comrade.ClosureConfig"><code>Comrade.ClosureConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ClosureConfig{A, D} &lt;: Comrade.ArrayConfiguration</code></pre><p>Array config file for closure quantities. This stores the design matrix <code>designmat</code> that transforms from visibilties to closure products.</p><p><strong>Fields</strong></p><ul><li><p><code>ac</code>: Array configuration for visibilities</p></li><li><p><code>designmat</code>: Closure design matrix</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L253-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.AbstractInterferometryDatum" href="#Comrade.AbstractInterferometryDatum"><code>Comrade.AbstractInterferometryDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractInterferometryDatum{T}</code></pre><p>An abstract type for all VLBI interfermetry data types. See <a href="#Comrade.EHTVisibilityDatum"><code>Comrade.EHTVisibilityDatum</code></a> for an example.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ArrayBaselineDatum" href="#Comrade.ArrayBaselineDatum"><code>Comrade.ArrayBaselineDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ArrayBaselineDatum{T, E, V}</code></pre><p>A single datum of an <code>ArrayConfiguration</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L309-L313">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTObservation" href="#Comrade.EHTObservation"><code>Comrade.EHTObservation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTObservation{F, T&lt;:Comrade.AbstractInterferometryDatum{F}, S&lt;:(StructArrays.StructArray{T&lt;:Comrade.AbstractInterferometryDatum{F}}), A, N} &lt;: Comrade.Observation{F}</code></pre><p>The main data product type in <code>Comrade</code> this stores the <code>data</code> which can be a StructArray of any <code>AbstractInterferometryDatum</code> type.</p><p><strong>Fields</strong></p><ul><li><code>data</code>: StructArray of data productts</li></ul><ul><li><code>config</code>: Array config holds ancillary information about array</li></ul><ul><li><code>mjd</code>: modified julia date of the observation</li></ul><ul><li><code>ra</code>: RA of the observation in J2000 (deg)</li></ul><ul><li><code>dec</code>: DEC of the observation in J2000 (deg)</li></ul><ul><li><code>bandwidth</code>: bandwidth of the observation (Hz)</li></ul><ul><li><code>source</code>: Common source name</li></ul><ul><li><code>timetype</code>: Time zone used.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L368-L376">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTArrayConfiguration" href="#Comrade.EHTArrayConfiguration"><code>Comrade.EHTArrayConfiguration</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTArrayConfiguration{F, T, S, D&lt;:AbstractArray} &lt;: Comrade.ArrayConfiguration</code></pre><p>Stores all the non-visibility data products for an EHT array. This is useful when evaluating model visibilities.</p><p><strong>Fields</strong></p><ul><li><code>bandwidth</code>: Observing bandwith (Hz)</li></ul><ul><li><code>tarr</code>: Telescope array file</li></ul><ul><li><code>scans</code>: Scan times</li></ul><ul><li><code>data</code>: A struct array of <code>ArrayBaselineDatum</code> holding time, freq, u, v, baselines.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L215-L223">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTCoherencyDatum" href="#Comrade.EHTCoherencyDatum"><code>Comrade.EHTCoherencyDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTCoherencyDatum{S, B1, B2, M&lt;:(StaticArraysCore.SArray{Tuple{2, 2}, Complex{S}, 2}), E&lt;:(StaticArraysCore.SArray{Tuple{2, 2}, S, 2})} &lt;: Comrade.AbstractInterferometryDatum{S}</code></pre><p>A Datum for a single coherency matrix</p><p><strong>Fields</strong></p><ul><li><code>measurement</code>: coherency matrix, with entries in Jy</li></ul><ul><li><code>error</code>: visibility uncertainty matrix, with entries in Jy</li></ul><ul><li><code>U</code>: x-direction baseline length, in λ</li></ul><ul><li><code>V</code>: y-direction baseline length, in λ</li></ul><ul><li><code>T</code>: Timestamp, in hours</li></ul><ul><li><code>F</code>: Frequency, in Hz</li></ul><ul><li><code>baseline</code>: station baseline codes</li></ul><ul><li><code>polbasis</code>: polarization basis for each station</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L674-L682">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTVisibilityDatum" href="#Comrade.EHTVisibilityDatum"><code>Comrade.EHTVisibilityDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTVisibilityDatum{S&lt;:Number} &lt;: Comrade.AbstractVisibilityDatum{S&lt;:Number}</code></pre><p>A struct holding the information for a single measured complex visibility.</p><p><strong>FIELDS</strong></p><ul><li><code>measurement</code>: Complex Vis. measurement (Jy)</li></ul><ul><li><code>error</code>: error of the complex vis (Jy)</li></ul><ul><li><code>U</code>: u position of the data point in λ</li></ul><ul><li><code>V</code>: v position of the data point in λ</li></ul><ul><li><code>T</code>: time of the data point in (Hr)</li></ul><ul><li><code>F</code>: frequency of the data point (Hz)</li></ul><ul><li><code>baseline</code>: station baseline codes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L485-L493">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTVisibilityAmplitudeDatum" href="#Comrade.EHTVisibilityAmplitudeDatum"><code>Comrade.EHTVisibilityAmplitudeDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTVisibilityAmplitudeDatum{S&lt;:Number} &lt;: Comrade.AbstractVisibilityDatum{S&lt;:Number}</code></pre><p>A struct holding the information for a single measured visibility amplitude.</p><p><strong>FIELDS</strong></p><ul><li><code>measurement</code>: amplitude (Jy)</li></ul><ul><li><code>error</code>: error of the visibility amplitude (Jy)</li></ul><ul><li><code>U</code>: u position of the data point in λ</li></ul><ul><li><code>V</code>: v position of the data point in λ</li></ul><ul><li><code>T</code>: time of the data point in (Hr)</li></ul><ul><li><code>F</code>: frequency of the data point (Hz)</li></ul><ul><li><code>baseline</code>: station baseline codes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L550-L558">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTLogClosureAmplitudeDatum" href="#Comrade.EHTLogClosureAmplitudeDatum"><code>Comrade.EHTLogClosureAmplitudeDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTLogClosureAmplitudeDatum{S&lt;:Number} &lt;: Comrade.ClosureProducts{S&lt;:Number}</code></pre><p>A Datum for a single log closure amplitude.</p><p><strong></strong></p><ul><li><code>measurement</code>: log-closure amplitude</li></ul><ul><li><code>error</code>: log-closure amplitude error in the high-snr limit</li></ul><ul><li><code>U1</code>: u (λ) of first station</li></ul><ul><li><code>V1</code>: v (λ) of first station</li></ul><ul><li><code>U2</code>: u (λ) of second station</li></ul><ul><li><code>V2</code>: v (λ) of second station</li></ul><ul><li><code>U3</code>: u (λ) of third station</li></ul><ul><li><code>V3</code>: v (λ) of third station</li></ul><ul><li><code>U4</code>: u (λ) of fourth station</li></ul><ul><li><code>V4</code>: v (λ) of fourth station</li></ul><ul><li><code>T</code>: Measured time of closure phase in hours</li></ul><ul><li><code>F</code>: Measured frequency of closure phase in Hz</li></ul><ul><li><code>quadrangle</code>: station codes for the quadrangle</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L774-L781">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.EHTClosurePhaseDatum" href="#Comrade.EHTClosurePhaseDatum"><code>Comrade.EHTClosurePhaseDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct EHTClosurePhaseDatum{S&lt;:Number} &lt;: Comrade.ClosureProducts{S&lt;:Number}</code></pre><p>A Datum for a single closure phase.</p><p><strong>Fields</strong></p><ul><li><code>measurement</code>: closure phase (rad)</li></ul><ul><li><code>error</code>: error of the closure phase assuming the high-snr limit</li></ul><ul><li><code>U1</code>: u (λ) of first station</li></ul><ul><li><code>V1</code>: v (λ) of first station</li></ul><ul><li><code>U2</code>: u (λ) of second station</li></ul><ul><li><code>V2</code>: v (λ) of second station</li></ul><ul><li><code>U3</code>: u (λ) of third station</li></ul><ul><li><code>V3</code>: v (λ) of third station</li></ul><ul><li><code>T</code>: Measured time of closure phase in hours</li></ul><ul><li><code>F</code>: Measured frequency of closure phase in Hz</li></ul><ul><li><code>triangle</code>: station baselines used</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L617-L625">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.Scan" href="#Comrade.Scan"><code>Comrade.Scan</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Scan{T, I, S}</code></pre><p>Composite type that holds information for a single scan of the telescope.</p><p><strong>Fields</strong></p><ul><li><code>time</code>: Scan time</li></ul><ul><li><code>index</code>: Scan indices which are (scan index, data start index, data end index)</li></ul><ul><li><code>scan</code>: Scan data usually a StructArray of a &lt;:AbstractVisibilityDatum</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L921-L928">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.ScanTable" href="#Comrade.ScanTable"><code>Comrade.ScanTable</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ScanTable{O&lt;:Union{Comrade.ArrayConfiguration, Comrade.Observation}, T, S}</code></pre><p>Wraps EHTObservation in a table that separates the observation into scans. This implements the table interface. You can access scans by directly indexing into the table. This will create a view into the table not copying the data.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; st = scantable(obs)
julia&gt; st[begin] # grab first scan
julia&gt; st[end]   # grab last scan</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L887-L900">source</a></section></article><h2 id="Model-Cache"><a class="docs-heading-anchor" href="#Model-Cache">Model Cache</a><a id="Model-Cache-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Cache" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VLBISkyModels.NFFTAlg-Tuple{Comrade.EHTObservation}" href="#VLBISkyModels.NFFTAlg-Tuple{Comrade.EHTObservation}"><code>VLBISkyModels.NFFTAlg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">NFFTAlg(obs::EHTObservation; kwargs...)</code></pre><p>Create an algorithm object using the non-unform Fourier transform object from the observation <code>obs</code>. This will extract the uv positions from the observation to allow for a more efficient FT cache.</p><p>The possible optional arguments are given in the <a href="#VLBISkyModels.NFFTAlg-Tuple{Comrade.EHTObservation}"><code>NFFTAlg</code></a> struct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/models/cache.jl#L42-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VLBISkyModels.NFFTAlg-Tuple{Comrade.ArrayConfiguration}" href="#VLBISkyModels.NFFTAlg-Tuple{Comrade.ArrayConfiguration}"><code>VLBISkyModels.NFFTAlg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">NFFTAlg(ac::ArrayConfiguration; kwargs...)</code></pre><p>Create an algorithm object using the non-unform Fourier transform object from the array configuration <code>ac</code>. This will extract the uv positions from the observation to allow for a more efficient FT cache.</p><p>The optional arguments are: <code>padfac</code> specifies how much to pad the image by, and <code>m</code> is an internal variable for <code>NFFT.jl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/models/cache.jl#L26-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VLBISkyModels.DFTAlg-Tuple{Comrade.EHTObservation}" href="#VLBISkyModels.DFTAlg-Tuple{Comrade.EHTObservation}"><code>VLBISkyModels.DFTAlg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DFTAlg(obs::EHTObservation)</code></pre><p>Create an algorithm object using the direct Fourier transform object from the observation <code>obs</code>. This will extract the uv positions from the observation to allow for a more efficient FT cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/models/cache.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VLBISkyModels.DFTAlg-Tuple{Comrade.ArrayConfiguration}" href="#VLBISkyModels.DFTAlg-Tuple{Comrade.ArrayConfiguration}"><code>VLBISkyModels.DFTAlg</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DFTAlg(ac::ArrayConfiguration)</code></pre><p>Create an algorithm object using the direct Fourier transform object from the array configuration <code>ac</code>. This will extract the uv positions from the observation to allow for a more efficient FT cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/models/cache.jl#L13-L19">source</a></section></article><h2 id="Bayesian-Tools"><a class="docs-heading-anchor" href="#Bayesian-Tools">Bayesian Tools</a><a id="Bayesian-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Bayesian-Tools" title="Permalink"></a></h2><h3 id="Posterior-Constructions"><a class="docs-heading-anchor" href="#Posterior-Constructions">Posterior Constructions</a><a id="Posterior-Constructions-1"></a><a class="docs-heading-anchor-permalink" href="#Posterior-Constructions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HypercubeTransform.ascube" href="#HypercubeTransform.ascube"><code>HypercubeTransform.ascube</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ascube(post::Posterior)</code></pre><p>Construct a flattened version of the posterior where the parameters are transformed to live in (0, 1), i.e. the unit hypercube.</p><p>This returns a <code>TransformedPosterior</code> that obeys the <code>DensityInterface</code> and can be evaluated in the usual manner, i.e. <code>logdensityof</code>. Note that the transformed posterior automatically includes the terms log-jacobian terms of the transformation.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; tpost = ascube(post)
julia&gt; x0 = prior_sample(tpost)
julia&gt; logdensityof(tpost, x0)</code></pre><p><strong>Notes</strong></p><p>This is the transform that should be used if using typical NestedSampling methods, i.e. <code>ComradeNested</code>. For the transformation to unconstrained space see <a href="#HypercubeTransform.asflat"><code>asflat</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L224-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HypercubeTransform.asflat" href="#HypercubeTransform.asflat"><code>HypercubeTransform.asflat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">asflat(post::Posterior)</code></pre><p>Construct a flattened version of the posterior where the parameters are transformed to live in (-∞, ∞).</p><p>This returns a <code>TransformedPosterior</code> that obeys the <code>DensityInterface</code> and can be evaluated in the usual manner, i.e. <code>logdensityof</code>. Note that the transformed posterior automatically includes the terms log-jacobian terms of the transformation.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; tpost = ascube(post)
julia&gt; x0 = prior_sample(tpost)
julia&gt; logdensityof(tpost, x0)</code></pre><p><strong>Notes</strong></p><p>This is the transform that should be used if using typical MCMC methods, i.e. <code>ComradeAHMC</code>. For the transformation to the unit hypercube see <a href="#HypercubeTransform.ascube"><code>ascube</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L187-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ParameterHandling.flatten" href="#ParameterHandling.flatten"><code>ParameterHandling.flatten</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">flatten(post::Posterior)</code></pre><p>Construct a flattened version of the posterior but <strong>do not</strong> transform to any space, i.e. use the support specified by the prior.</p><p>This returns a <code>TransformedPosterior</code> that obeys the <code>DensityInterface</code> and can be evaluated in the usual manner, i.e. <code>logdensityof</code>. Note that the transformed posterior automatically includes the terms log-jacobian terms of the transformation.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; tpost = flatten(post)
julia&gt; x0 = prior_sample(tpost)
julia&gt; logdensityof(tpost, x0)</code></pre><p><strong>Notes</strong></p><p>This is the transform that should be used if using typical MCMC methods, i.e. <code>ComradeAHMC</code>. For the transformation to the unit hypercube see <a href="#HypercubeTransform.ascube"><code>ascube</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L269-L289">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransformVariables.inverse" href="#TransformVariables.inverse"><code>TransformVariables.inverse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">inverse(posterior::TransformedPosterior, x)</code></pre><p>Transforms the value <code>y</code> from parameter space to the transformed space (e.g. unit hypercube if using <a href="#HypercubeTransform.ascube"><code>ascube</code></a>).</p><p>For the inverse transform see <a href="#TransformVariables.transform"><code>transform</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L172-L179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.prior_sample" href="#Comrade.prior_sample"><code>Comrade.prior_sample</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">prior_sample([rng::AbstractRandom], post::Posterior, args...)</code></pre><p>Samples the prior distribution from the posterior. The <code>args...</code> are forwarded to the <code>Base.rand</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L54-L59">source</a></section><section><div><pre><code class="language-julia hljs">prior_sample([rng::AbstractRandom], post::Posterior)</code></pre><p>Returns a single sample from the prior distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L65-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.likelihood" href="#Comrade.likelihood"><code>Comrade.likelihood</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">likelihood(d::ConditionedLikelihood, μ)</code></pre><p>Returns the likelihood of the model, with parameters μ. That is, we return the distribution of the data given the model parameters μ. This is an actual probability distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L286-L292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.simulate_observation" href="#Comrade.simulate_observation"><code>Comrade.simulate_observation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">simulate_observation([rng::Random.AbstractRNG], post::Posterior, θ)</code></pre><p>Create a simulated observation using the posterior and its data <code>post</code> using the parameter values <code>θ</code>. In Bayesian terminology this is a draw from the posterior predictive distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L114-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.dataproducts" href="#Comrade.dataproducts"><code>Comrade.dataproducts</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dataproducts(d::RadioLikelihood)</code></pre><p>Returns the data products you are fitting as a tuple. The order of the tuple corresponds to the order of the <code>dataproducts</code> argument in <a href="#Comrade.RadioLikelihood"><code>RadioLikelihood</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L55-L60">source</a></section><section><div><pre><code class="language-julia hljs">dataproducts(d::Posterior)</code></pre><p>Returns the data products you are fitting as a tuple. The order of the tuple corresponds to the order of the <code>dataproducts</code> argument in <a href="#Comrade.RadioLikelihood"><code>RadioLikelihood</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L102-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.skymodel" href="#Comrade.skymodel"><code>Comrade.skymodel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">skymodel(post::RadioLikelihood, θ)</code></pre><p>Returns the sky model or image of a posterior using the parameter values<code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L20-L24">source</a></section><section><div><pre><code class="language-julia hljs">skymodel(post::Posterior, θ)</code></pre><p>Returns the sky model or image of a posterior using the parameter values<code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.instrumentmodel" href="#Comrade.instrumentmodel"><code>Comrade.instrumentmodel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">skymodel(lklhd::RadioLikelihood, θ)</code></pre><p>Returns the instrument model of a lklhderior using the parameter values<code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L29-L33">source</a></section><section><div><pre><code class="language-julia hljs">skymodel(post::Posterior, θ)</code></pre><p>Returns the instrument model of a posterior using the parameter values<code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L83-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.vlbimodel" href="#Comrade.vlbimodel"><code>Comrade.vlbimodel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vlbimodel(post::Posterior, θ)</code></pre><p>Returns the instrument model and sky model as a <a href="#Comrade.VLBIModel"><code>VLBIModel</code></a> of a posterior using the parameter values <code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L38-L43">source</a></section><section><div><pre><code class="language-julia hljs">vlbimodel(post::Posterior, θ)</code></pre><p>Returns the instrument model and sky model as a <a href="#Comrade.VLBIModel"><code>VLBIModel</code></a> of a posterior using the parameter values <code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L92-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.sample-Tuple{Posterior}" href="#StatsBase.sample-Tuple{Posterior}"><code>StatsBase.sample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sample(post::Posterior, sampler::S, args...; init_params=nothing, kwargs...)</code></pre><p>Sample a posterior <code>post</code> using the <code>sampler</code>. You can optionally pass the starting location of the sampler using <code>init_params</code>, otherwise a random draw from the prior will be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/inference/inference.jl#L32-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransformVariables.transform" href="#TransformVariables.transform"><code>TransformVariables.transform</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">transform(posterior::TransformedPosterior, x)</code></pre><p>Transforms the value <code>x</code> from the transformed space (e.g. unit hypercube if using <a href="#HypercubeTransform.ascube"><code>ascube</code></a>) to parameter space which is usually encoded as a <code>NamedTuple</code>.</p><p>For the inverse transform see <a href="#TransformVariables.inverse"><code>inverse</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L161-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.MultiRadioLikelihood" href="#Comrade.MultiRadioLikelihood"><code>Comrade.MultiRadioLikelihood</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MultiRadioLikelihood(lklhd1, lklhd2, ...)</code></pre><p>Combines multiple likelihoods into one object that is useful for fitting multiple days/frequencies.</p><pre><code class="language-julia-repl hljs">julia&gt; lklhd1 = RadioLikelihood(dcphase1, dlcamp1)
julia&gt; lklhd2 = RadioLikelihood(dcphase2, dlcamp2)
julia&gt; MultiRadioLikelihood(lklhd1, lklhd2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L185-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.Posterior" href="#Comrade.Posterior"><code>Comrade.Posterior</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Posterior(lklhd, prior)</code></pre><p>Creates a Posterior density that follows obeys <a href="https://github.com/JuliaMath/DensityInterface.jl">DensityInterface</a>. The <code>lklhd</code> object is expected to be a <code>VLB</code> object. For instance, these can be created using <a href="#Comrade.RadioLikelihood"><code>RadioLikelihood</code></a>. <code>prior</code></p><p><strong>Notes</strong></p><p>Since this function obeys <code>DensityInterface</code> you can evaluate it with</p><pre><code class="language-julia-repl hljs">julia&gt; ℓ = logdensityof(post)
julia&gt; ℓ(x)</code></pre><p>or using the 2-argument version directly</p><pre><code class="language-julia-repl hljs">julia&gt; logdensityof(post, x)</code></pre><p>where <code>post::Posterior</code>.</p><p>To generate random draws from the prior see the <a href="#Comrade.prior_sample"><code>prior_sample</code></a> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L18-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.TransformedPosterior" href="#Comrade.TransformedPosterior"><code>Comrade.TransformedPosterior</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TransformedPosterior{P&lt;:Posterior, T} &lt;: Comrade.AbstractPosterior</code></pre><p>A transformed version of a <code>Posterior</code> object. This is an internal type that an end user shouldn&#39;t have to directly construct. To construct a transformed posterior see the <a href="#HypercubeTransform.asflat"><code>asflat</code></a>, <a href="#HypercubeTransform.ascube"><code>ascube</code></a>, and <a href="#ParameterHandling.flatten"><code>flatten</code></a> docstrings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/bayes/bayes.jl#L130-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.RadioLikelihood" href="#Comrade.RadioLikelihood"><code>Comrade.RadioLikelihood</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RadioLikelihood(skymodel, instumentmodel, dataproducts::EHTObservation...;
                skymeta=nothing,
                instrumentmeta=nothing)</code></pre><p>Creates a RadioLikelihood using the <code>skymodel</code> its related metadata <code>skymeta</code> and the <code>instrumentmodel</code> and its metadata <code>instumentmeta</code>. . The <code>model</code> is a function that converts from parameters <code>θ</code> to a Comrade AbstractModel which can be used to compute <a href="../base_api/#ComradeBase.visibilities"><code>visibilities</code></a> and a set of <code>metadata</code> that is used by <code>model</code> to compute the model.</p><p><strong>Warning</strong></p><p>The <code>model</code> itself must be a two argument function where the first argument is the set of model parameters and the second is a container that holds all the additional information needed to construct the model. An example of this is when the model needs some precomputed cache to define the model.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">dlcamp, dcphase = extract_table(obs, LogClosureAmplitude(), ClosurePhases())
cache = create_cache(NFFTAlg(dlcamp), IntensityMap(zeros(128,128), μas2rad(100.0), μas2rad(100.0)))

function skymodel(θ, metadata)
    (; r, a) = θ
    (; cache) = metadata
    m = stretched(ExtendedRing(a), r, r)
    return modelimage(m, metadata.cache)
end

function instrumentmodel(g, metadata)
    (;lg, gp) = g
    (;gcache) = metadata
    jonesStokes(lg.*exp.(1im.*gp), gcache)
end

prior = (
         r = Uniform(μas2rad(10.0), μas2rad(40.0)),
         a = Uniform(0.1, 5.0)
         )

RadioLikelihood(skymodel, instrumentmodel, dataproducts::EHTObservation...;
                 skymeta=(;cache,),
                 instrumentmeta=(;gcache))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L84-L130">source</a></section><section><div><pre><code class="language-julia hljs">RadioLikelihood(skymodel, dataproducts::EHTObservation...; skymeta=nothing)</code></pre><p>Forms a radio likelihood from a set of data products using only a sky model. This intrinsically assumes that the instrument model is not required since it is perfect. This is useful when fitting closure quantities which are independent of the instrument.</p><p>If you want to form a likelihood from multiple arrays such as when fitting different wavelengths or days, you can combine them using <a href="#Comrade.MultiRadioLikelihood"><code>MultiRadioLikelihood</code></a></p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; RadioLikelihood(skymodel, dcphase, dlcamp)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/distributions/radiolikelihood.jl#L152-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.IsFlat" href="#Comrade.IsFlat"><code>Comrade.IsFlat</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IsFlat</code></pre><p>Specifies that the sampling algorithm usually expects a uncontrained transform</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/inference/inference.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.IsCube" href="#Comrade.IsCube"><code>Comrade.IsCube</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IsCube</code></pre><p>Specifies that the sampling algorithm usually expects a hypercube transform</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/inference/inference.jl#L4-L8">source</a></section></article><h3 id="Sampler-Tools"><a class="docs-heading-anchor" href="#Sampler-Tools">Sampler Tools</a><a id="Sampler-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Sampler-Tools" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.samplertype" href="#Comrade.samplertype"><code>Comrade.samplertype</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">samplertype(::Type)</code></pre><p>Sampler type specifies whether to use a unit hypercube or unconstrained transformation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/inference/inference.jl#L24-L28">source</a></section></article><h2 id="Misc"><a class="docs-heading-anchor" href="#Misc">Misc</a><a id="Misc-1"></a><a class="docs-heading-anchor-permalink" href="#Misc" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.station_tuple" href="#Comrade.station_tuple"><code>Comrade.station_tuple</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">station_tuple(stations, default; reference=nothing kwargs...)
station_tuple(obs::EHTObservation, default; reference=nothing, kwargs...)</code></pre><p>Convienence function that will construct a <code>NamedTuple</code> of objects whose names are the <code>stations</code> in the observation <code>obs</code> or explicitly in the argument <code>stations</code>. The <code>NamedTuple</code> will be filled with <code>default</code> if no kwargs are defined otherwise each kwarg (key, value) pair denotes a station and value pair.</p><p>Optionally the user can specify a <code>reference</code> station that will be dropped from the tuple. This is useful for selecting a reference station for gain phases</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; stations = (:AA, :AP, :LM, :PV)
julia&gt; station_tuple(stations, ScanSeg())
(AA = ScanSeg(), AP = ScanSeg(), LM = ScanSeg(), PV = ScanSeg())
julia&gt; station_tuple(stations, ScanSeg(); AA = FixedSeg(1.0))
(AA = FixedSeg(1.0), AP = ScanSeg(), LM = ScanSeg(), PV = ScanSeg())
julia&gt; station_tuple(stations, ScanSeg(); AA = FixedSeg(1.0), PV = TrackSeg())
(AA = FixedSeg(1.0), AP = ScanSeg(), LM = ScanSeg(), PV = TrackSeg())
julia&gt; station_tuple(stations, Normal(0.0, 0.1); reference=:AA, LM = Normal(0.0, 1.0))
(AP = Normal(0.0, 0.1), LM = Normal(0.0, 1.0), PV = Normal(0.0, 0.1))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L166-L190">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.dirty_image" href="#Comrade.dirty_image"><code>Comrade.dirty_image</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dirty_image(fov::Real, npix::Int, obs::EHTObservation{T,&lt;:EHTVisibilityDatum}) where T</code></pre><p>Computes the dirty image of the complex visibilities assuming a field of view of <code>fov</code> and number of pixels <code>npix</code> using the complex visibilities found in the observation <code>obs</code>.</p><p>The <code>dirty image</code> is the inverse Fourier transform of the measured visibilties assuming every other visibility is zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/clean.jl#L31-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.dirty_beam" href="#Comrade.dirty_beam"><code>Comrade.dirty_beam</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dirty_beam(fov::Real, npix::Int, obs::EHTObservation{T,&lt;:EHTVisibilityDatum}) where T</code></pre><p>Computes the dirty beam of the complex visibilities assuming a field of view of <code>fov</code> and number of pixels <code>npix</code> using baseline coverage found in <code>obs</code>.</p><p>The <code>dirty beam</code> is the inverse Fourier transform of the (u,v) coverage assuming every visibility is unity and everywhere else is zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/clean.jl#L58-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.beamsize" href="#Comrade.beamsize"><code>Comrade.beamsize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">beamsize(ac::ArrayConfiguration)</code></pre><p>Calculate the approximate beam size of the array <code>ac</code> as the inverse of the longest baseline distance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L243-L248">source</a></section><section><div><pre><code class="language-julia hljs">beamsize(obs::EHTObservation)</code></pre><p>Calculate the approximate beam size of the observation <code>obs</code> as the inverse of the longest baseline distance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L432-L437">source</a></section></article><h2 id="Internal-(Not-Public-API)"><a class="docs-heading-anchor" href="#Internal-(Not-Public-API)">Internal (Not Public API)</a><a id="Internal-(Not-Public-API)-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-(Not-Public-API)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_FRs" href="#Comrade.extract_FRs"><code>Comrade.extract_FRs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_FRs</code></pre><p>Extracts the feed rotation Jones matrices (returned as a <code>JonesPair</code>) from an EHT observation <code>obs</code>.</p><p><strong>Warning</strong></p><p>eht-imaging can sometimes pre-rotate the coherency matrices. As a result the field rotation can sometimes be applied twice. To compensate for this we have added a <code>ehtim_fr_convention</code> which will fix this.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/calibration/jones.jl#L1020-L1030">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase._visibilities!" href="#ComradeBase._visibilities!"><code>ComradeBase._visibilities!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_visibilities!(model::AbstractModel, args...)</code></pre><p>Internal method used for trait dispatch and unpacking of args arguments in <code>visibilities!</code></p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>Not part of the public API so it may change at any moment.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/0e39a6a94d1215e60bb5c5c7a0ed7c0d0b1784a0/src/interface.jl#L289-L296">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ComradeBase._visibilities" href="#ComradeBase._visibilities"><code>ComradeBase._visibilities</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_visibilities(model::AbstractModel, args...)</code></pre><p>Internal method used for trait dispatch and unpacking of args arguments in <code>visibilities</code></p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>Not part of the public API so it may change at any moment.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/ComradeBase.jl/blob/0e39a6a94d1215e60bb5c5c7a0ed7c0d0b1784a0/src/interface.jl#L279-L286">source</a></section></article><h3 id="eht-imaging-interface-(Internal)"><a class="docs-heading-anchor" href="#eht-imaging-interface-(Internal)">eht-imaging interface (Internal)</a><a id="eht-imaging-interface-(Internal)-1"></a><a class="docs-heading-anchor-permalink" href="#eht-imaging-interface-(Internal)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_amp" href="#Comrade.extract_amp"><code>Comrade.extract_amp</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_amp(obs; kwargs...)</code></pre><p>Extracts the visibility amplitudes from an <code>obs</code>. This is an internal method for dispatch. Only use this if interfacing Comrade with a new data type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L180-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_cphase" href="#Comrade.extract_cphase"><code>Comrade.extract_cphase</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_cphase(obs; kwargs...)</code></pre><p>Extracts the closure phases from an <code>obs</code>. This is an internal method for dispatch. Only use this if interfacing Comrade with a new data type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L164-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_lcamp" href="#Comrade.extract_lcamp"><code>Comrade.extract_lcamp</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_lcamp(obs; kwargs...)</code></pre><p>Extracts the log-closure amplitudes from an <code>obs</code>. This is an internal method for dispatch. Only use this if interfacing Comrade with a new data type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L172-L178">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_vis" href="#Comrade.extract_vis"><code>Comrade.extract_vis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_vis(obs; kwargs...)</code></pre><p>Extracts the stokes I complex visibilities from an obs. This is an internal method for dispatch. Only use this if interfacing Comrade with a new data type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L188-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Comrade.extract_coherency" href="#Comrade.extract_coherency"><code>Comrade.extract_coherency</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_coherency(obs; kwargs...)</code></pre><p>Extracts the full coherency matrix from an observation. This is an internal method for dispatch. Only use this if interfacing Comrade with a new data type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/Comrade.jl/blob/a44a6f6f88236d2eec3e9f411d35c419870d862a/src/observations/observations.jl#L196-L202">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../base_api/">« ComradeBase API</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Monday 30 October 2023 20:04">Monday 30 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
